
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Métodos de Suavización Exponencial &#8212; Análisis y Predicción de Series de Tiempo</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css?v=ca93fcec" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'exponential_smoothing';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modelos autorregresivos integrados de media móvil" href="arima_model.html" />
    <link rel="prev" title="Introducción a las Series de Tiempo" href="statistical_background.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo-uninorte.png" class="logo__image only-light" alt="Análisis y Predicción de Series de Tiempo - Home"/>
    <script>document.write(`<img src="_static/logo-uninorte.png" class="logo__image only-dark" alt="Análisis y Predicción de Series de Tiempo - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Análisis y Predicción de Series de Tiempo
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="statistical_background.html">Introducción a las Series de Tiempo</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Métodos de Suavización Exponencial</a></li>

<li class="toctree-l1"><a class="reference internal" href="arima_model.html">Modelos autorregresivos integrados de media móvil</a></li>
<li class="toctree-l1"><a class="reference internal" href="deep_learning.html">Deep Learning para la predicción de series temporales</a></li>
<li class="toctree-l1"><a class="reference internal" href="biblio.html">Bibliografía</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fexponential_smoothing.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/exponential_smoothing.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Métodos de Suavización Exponencial</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Métodos de Suavización Exponencial</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis">Análisis</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion-al-suavizado-de-series-temporales">Introducción al suavizado de series temporales</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-primer-orden">Suavización exponencial de primer orden</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#el-valor-de-lambda">El valor de <span class="math notranslate nohighlight">\(\lambda\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelado-de-datos-de-series-temporales">Modelado de datos de series temporales</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-alto-orden">Suavización exponencial de alto orden</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#forecasting">Forecasting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proceso-constante">Proceso constante</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#seleccion-de-lambda">Selección de <span class="math notranslate nohighlight">\(\lambda\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#intervalo-de-prediccion">Intervalo de predicción</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estimacion-de-sigma-e-2">Estimación de <span class="math notranslate nohighlight">\(\sigma_{e}^{2}\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptacion-actualizada-del-factor-de-descuento">Adaptación actualizada del factor de descuento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluacion-del-modelo">Evaluación del modelo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-para-datos-estacionales">Suavización exponencial para datos estacionales</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-estacional-aditivo">Modelo estacional aditivo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-estacional-multiplicativo">Modelo estacional multiplicativo</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacion">Implementación</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-segundo-orden">Suavización exponencial de segundo orden</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-orden-superior">Suavización exponencial de orden superior</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="metodos-de-suavizacion-exponencial">
<h1>Métodos de Suavización Exponencial<a class="headerlink" href="#metodos-de-suavizacion-exponencial" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>El presente capítulo trata del <em><strong>suavizado de datos en la señal de series temporales</strong></em>. El capítulo está organizado como sigue:</p>
<ul>
<li><p><em><strong>Introducción al suavizado de series temporales</strong></em></p></li>
<li><p><em><strong>Suavizado exponencial de primer orden</strong></em></p></li>
<li><p><em><strong>Suavizado exponencial de segundo orden</strong></em></p></li>
<li><p><em><strong>Suavizado exponencial de orden superior</strong></em></p></li>
</ul>
</li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="analisis">
<h1>Análisis<a class="headerlink" href="#analisis" title="Link to this heading">#</a></h1>
<section id="introduccion-al-suavizado-de-series-temporales">
<h2>Introducción al suavizado de series temporales<a class="headerlink" href="#introduccion-al-suavizado-de-series-temporales" title="Link to this heading">#</a></h2>
<ul>
<li><p>Los datos de las series temporales se componen de <em><strong>señal y ruido</strong></em>, donde la <em><strong>señal captura la dinámica intrínseca del proceso</strong></em>; sin embargo, el <em><strong>ruido representa el componente no modelado de la señal o error aleatorio no correlacionado, el cual en diferentes tiempos es estadísticamente independiente</strong></em>.</p></li>
<li><p>La dinámica intrínseca de una señal de serie temporal puede ser tan simple como <em><strong>la media del proceso</strong></em> o puede ser una <em><strong>forma funcional compleja</strong></em> dentro de las observaciones, como se representa aquí:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
    \\[1mm]
    y_{t}=f(t, \boldsymbol{\beta})+\varepsilon_{t},\quad\text{para}\quad i=1,2,3,\dots,T,
\end{split}\]</div>
<p>donde <span class="math notranslate nohighlight">\(y_{t}\)</span> representa las observaciones, <span class="math notranslate nohighlight">\(\boldsymbol{\beta}\)</span> es un vector de parámetros desconocidos, y <span class="math notranslate nohighlight">\(\varepsilon_{t}\)</span> es el <em><strong>error aleatorio no correlacionado</strong></em>, usualmente con media 0 y desviación 1.</p>
</li>
</ul>
<figure class="align-center" id="signal-noise-fig">
<a class="reference internal image-reference" href="_images/signal_noise.png"><img alt="_images/signal_noise.png" src="_images/signal_noise.png" style="width: 589.6px; height: 489.6px;" />
</a>
</figure>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(f(t, \boldsymbol{\beta})\)</span> <em><strong>denota la forma funcional de la señal</strong></em>. Un ejemplo puede ser una constante (<em><strong>media</strong></em>) como forma funcional:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
    y_{t}=\mu+\varepsilon_{t}
\]</div>
<ul class="simple">
<li><p>Dado que <span class="math notranslate nohighlight">\(\varepsilon_{t}\)</span> es <em><strong>ruido blanco</strong></em>, este enfoque basado en el suavizado ayuda a <em><strong>separar la forma funcional intrínseca del ruido aleatorio, cancelándolo</strong></em>.</p></li>
<li><p>Los métodos predictivos de suavización pueden considerarse como <em><strong>filtros</strong></em> que toman datos de entrada y <em><strong>separan los componentes de tendencia y de ruido</strong></em>, como se muestra en la <a class="reference internal" href="#fig1-chapter2"><span class="std std-numref">Fig. 2</span></a></p></li>
</ul>
<figure class="align-center" id="fig1-chapter2">
<img alt="_images/fig1_chapter2.png" src="_images/fig1_chapter2.png" />
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">Separación de componentes de tendencia y ruido.</span><a class="headerlink" href="#fig1-chapter2" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Un <em><strong>proceso constante</strong></em> puede ser suavizado reemplazando la observación actual con el mejor estimador para <span class="math notranslate nohighlight">\(\mu\)</span>. Usando el criterio de <em><strong>mínimos cuadrados</strong></em>, definimos la <em><strong>suma de cuadrados de los errores</strong></em> <span class="math notranslate nohighlight">\(SS_{E}\)</span>, para el proceso constante como</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
SS_{E}=\sum_{t=1}^{T}(y_{t}-\mu)^{2}.
\]</div>
<ul>
<li><p>La estimación por mínimos cuadrados de <span class="math notranslate nohighlight">\(\mu\)</span> puede ser calculada derivando <span class="math notranslate nohighlight">\(SS_{E}\)</span> con respecto a <span class="math notranslate nohighlight">\(\mu\)</span> el igualar a cero (<em><strong>verifíquelo</strong></em>). Esto entrega</p>
<div class="math notranslate nohighlight" id="equation-constant-process-ols">
<span class="eqno">(7)<a class="headerlink" href="#equation-constant-process-ols" title="Link to this equation">#</a></span>\[
  \hat{\mu}=\frac{1}{T}\sum_{t=1}^{T}y_{t},
  \]</div>
<p>donde <span class="math notranslate nohighlight">\(\hat{\mu}\)</span> es la estimación por mínimos cuadrados de <span class="math notranslate nohighlight">\(\mu\)</span>.</p>
</li>
<li><p>La Ecuación <a class="reference internal" href="#equation-constant-process-ols">(7)</a> muestra que la estimación por mínimos cuadrado de <span class="math notranslate nohighlight">\(\mu\)</span>, es en efecto, el promedio de las observaciones hasta el tiempo <span class="math notranslate nohighlight">\(T\)</span>.</p></li>
</ul>
<div class="admonition-observacion admonition">
<p class="admonition-title">Observación</p>
<ul class="simple">
<li><p>El principal problema con el suavizador de la Ecuación <a class="reference internal" href="#equation-constant-process-ols">(7)</a> es que <em><strong>reacciona lentamente a procesos de cambios</strong></em>, debido a que <em><strong>acumula mas y mas puntos de datos ganando algún tipo de inercia</strong></em>. La solución mas obvia es de alguna forma descontar datos mas antiguos.</p></li>
<li><p>Una solución común es usar la <em><strong>media móvil simple</strong></em> definida por</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-simple-moving-avg">
<span class="eqno">(8)<a class="headerlink" href="#equation-simple-moving-avg" title="Link to this equation">#</a></span>\[
M_{T}= \frac{y_{T}+y_{T-1}+\cdots+y_{T-N+1}}{N}=\frac{1}{N}\sum_{t=T-N+1}^{N}y_{t}.
\]</div>
<ul>
<li><p>Una media reaccionará mas rápido a cambios si <span class="math notranslate nohighlight">\(N\)</span> es pequeño. Dado que para observaciones no correlacionadas con varianza constante <span class="math notranslate nohighlight">\(\sigma^{2}\)</span> se tiene que (<em><strong>verifíquelo</strong></em>)</p>
<div class="math notranslate nohighlight" id="equation-variance-sma">
<span class="eqno">(9)<a class="headerlink" href="#equation-variance-sma" title="Link to this equation">#</a></span>\[
    \text{Var}(M_{T})=\frac{\sigma^{2}}{N}.
    \]</div>
</li>
<li><p>Dada la Ecuación <a class="reference internal" href="#equation-variance-sma">(9)</a>. Si se espera que el proceso es constante, un valor grande de <span class="math notranslate nohighlight">\(N\)</span> puede ser usado, mientras que, un valor pequeño de <span class="math notranslate nohighlight">\(N\)</span> es preferido si el proceso es cambiante.</p></li>
<li><p>Queda como ejercicio para el lector verificar que la <em><strong>función de autocorrelación (ACF)</strong></em> de la media móvil con <span class="math notranslate nohighlight">\(k\)</span>-lags está dada por</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-acf-moving-average">
<span class="eqno">(10)<a class="headerlink" href="#equation-acf-moving-average" title="Link to this equation">#</a></span>\[\begin{split}
\rho_{k}=
\begin{cases}
\displaystyle{1-\frac{|k|}{N}}, &amp; k&lt;N\\
0, &amp; k\geq N
\end{cases}.
\end{split}\]</div>
</div>
</section>
<section id="suavizacion-exponencial-de-primer-orden">
<h2>Suavización exponencial de primer orden<a class="headerlink" href="#suavizacion-exponencial-de-primer-orden" title="Link to this heading">#</a></h2>
<div class="proof theorem admonition" id="th-simple_exp_smoothing">
<p class="admonition-title"><span class="caption-number">Theorem 2 </span> (Suavización exponencial simple)</p>
<section class="theorem-content" id="proof-content">
<p>Dada una serie de tiempo <span class="math notranslate nohighlight">\((y_{t})_{t=1}^{T}\)</span>. Una <em><strong>suavización exponencial ponderada</strong></em> está definida por:</p>
<div class="math notranslate nohighlight" id="equation-eq-simple-exp-smoothing">
<span class="eqno">(11)<a class="headerlink" href="#equation-eq-simple-exp-smoothing" title="Link to this equation">#</a></span>\[
\sum_{t=1}^{T-1}\theta^{t}y_{T-t}=y_{T}+\theta y_{T-1}+\theta^{2}y_{t-2}+\cdots+\theta^{T-1}y_{1}
\]</div>
<p>donde <span class="math notranslate nohighlight">\(\theta\)</span> satisface <span class="math notranslate nohighlight">\(|\theta|&lt;1\)</span>. Esto es, observaciones pasadas son descontadas de manera geométricamente descendiente. Entonces, la <em><strong>suavización exponencial simple</strong></em> está representada por:</p>
<div class="math notranslate nohighlight">
\[
\tilde{y}_{T}=\lambda y_{T}+(1-\lambda)\tilde{y}_{T-1},\quad\text{donde}\quad\lambda=1-\theta.
\]</div>
<p><span class="math notranslate nohighlight">\(\lambda\)</span> es conocido como el <em><strong>factor de descuento</strong></em>. Nótese que el factor de descuento <span class="math notranslate nohighlight">\(\lambda\)</span>, representa el peso colocado sobre la última observación <span class="math notranslate nohighlight">\(y_{T}\)</span> y <span class="math notranslate nohighlight">\(1-\lambda\)</span> el peso asignado al valor suavizado de la previa observación <span class="math notranslate nohighlight">\(\tilde{y}_{T-1}\)</span>.</p>
</section>
</div><p><strong><code class="docutils literal notranslate"><span class="pre">Demostración</span></code></strong></p>
<ul class="simple">
<li><p>Por hipótesis, pasadas observaciones son descontadas en forma geométricamente descendente, con <span class="math notranslate nohighlight">\(|\theta|&lt;1\)</span>. Nótese que el suavizador <a class="reference internal" href="#equation-eq-simple-exp-smoothing">(11)</a> no es una media movil simple. En efecto:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\sum_{t=0}^{T-1}\theta^{t}&amp;=1+\theta+\theta^2+\cdots+\theta^{T-1},\quad\text{multiplicando por}~(1-\theta)\\
(1-\theta)\sum_{t=0}^{T-1}\theta^{t}&amp;=(1-\theta)(1+\theta+\theta^2+\cdots+\theta^{T-1})\\
&amp;=(1+\theta+\theta^2+\cdots+\theta^{T-1})-(\theta+\theta^2+\theta^{3}+\cdots+\theta^{T-1}+\theta^{T})\\
&amp;=1-\theta^{T}\Longrightarrow\\
\sum_{t=0}^{T-1}\theta^{t}&amp;=\frac{1-\theta^{T}}{1-\theta}.
\end{align*}
\end{split}\]</div>
<ul>
<li><p>Nótese que la sumatoria:</p>
<div class="math notranslate nohighlight">
\[
    \sum_{t=0}^{T-1}\theta^{t}=\frac{1-\theta^{T}}{1-\theta},
    \]</div>
<p>no necesariamente es igual a 1. Esto puede ser ajustado multiplicando por <span class="math notranslate nohighlight">\((1-\theta)/(1-\theta^{T})\)</span> la ecuación <a class="reference internal" href="#equation-eq-simple-exp-smoothing">(11)</a>.</p>
</li>
</ul>
<ul class="simple">
<li><p>Además, dado que <span class="math notranslate nohighlight">\((1-\theta)/(1-\theta^{T})\rightarrow 1-\theta\)</span> cuando <span class="math notranslate nohighlight">\(T\rightarrow\infty,~ |\theta|&lt;1\)</span>. Entonces <a class="reference internal" href="#equation-eq-simple-exp-smoothing">(11)</a> puede reescribirse como:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\tilde{y}_{T}&amp;=\frac{1-\theta}{1-\theta^{T}}\sum_{t=0}^{T-1}\theta^{t}y_{T-t}\overset{T\rightarrow\infty}{=}(1-\theta)\sum_{t=0}^{T-1}\theta^{t}y_{T-t}\\
&amp;=(1-\theta)(y_{T}+\theta y_{T-1}+\theta^{2}y_{T-2}+\cdots+\theta^{T-1}y_{1})
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Entonces la <em><strong>suavización exponencial simple</strong></em> está dada por</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-eq-simple-exp-smoothing2">
<span class="eqno">(12)<a class="headerlink" href="#equation-eq-simple-exp-smoothing2" title="Link to this equation">#</a></span>\[
\tilde{y}_{T}=(1-\theta)(y_{T}+\theta y_{T-1}+\theta^{2}y_{T-2}+\cdots+\theta^{T-1}y_{1})
\]</div>
<ul class="simple">
<li><p>Una expresión alternativa para la suavización exponencial simple es:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\tilde{y}_{T}&amp;=(1-\theta)(y_{T}+\theta y_{T-1}+\theta^{2}y_{T-2}+\cdots+\theta^{T-1}y_{1}\\
&amp;=(1-\theta)y_{T}+(1-\theta)(\theta y_{T-1}+\theta^{2}y_{T-2}+\cdots+\theta^{T-1}y_{1})\\
&amp;=(1-\theta)y_{T}+\theta(1-\theta)(y_{T-1}+\theta y_{T-2}+\cdots+\theta^{T-2}y_{1})\\
&amp;=(1-\theta)y_{T}+\theta\tilde{y}_{T-1}.
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Esto es, la suavización exponencial de primer orden, puede verse como combianción lineal de la observación actual y la observación suavizada en un tiempo previo. Definiendo <span class="math notranslate nohighlight">\(\lambda=1-\theta\)</span>, (<em><strong>factor de corrección</strong></em>) se tiene que:</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-eq-simple-exp-smoothing3">
<span class="eqno">(13)<a class="headerlink" href="#equation-eq-simple-exp-smoothing3" title="Link to this equation">#</a></span>\[
\tilde{y}_{T}=\lambda y_{T}+(1-\lambda)\tilde{y}_{T-1}.
\]</div>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<p>Análogamente a la longitud del periodo en la media movil, <em><strong>un asunto importante para la suavización exponencial es la selección del factor de descuento</strong></em> <span class="math notranslate nohighlight">\(\lambda\)</span>. Además, a partir de la ecuación <a class="reference internal" href="#equation-eq-simple-exp-smoothing3">(13)</a> podemos observa que el cálculo de <span class="math notranslate nohighlight">\(\tilde{y}_{1}\)</span> va a requerir conocer <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span>.</p>
</div>
<div class="proof theorem admonition" id="th-initial-value-simple-exp-smoothing">
<p class="admonition-title"><span class="caption-number">Theorem 3 </span> (Selección de <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span>)</p>
<section class="theorem-content" id="proof-content">
<p>Dada una serie de tiempo <span class="math notranslate nohighlight">\((y_{t})_{t=1}^{T}\)</span>, donde <span class="math notranslate nohighlight">\(T\)</span> es grande, la contribución de <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span> a <span class="math notranslate nohighlight">\(\tilde{y}_{T}\)</span> es mínima. Por lo tanto, <em><strong>la estimación de</strong></em> <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span> <em><strong>tiene poca influencia sobre la suavización</strong></em>. Sin embargo, dos estimaciones de <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span> comunmente usadas en las aplicaciones son las siguientes:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\tilde{y}_{0}=y_{1}\)</span>: Si los cambios esperados del proceso ocurren temprano y rápido, esta selección para el valor inicial de <span class="math notranslate nohighlight">\(\tilde{y}_{T}\)</span> es razonable.</p></li>
<li><p><span class="math notranslate nohighlight">\(\tilde{y}_{0}=\overline{y}\)</span>: Tomar el promedio de los datos disponibles. Si el proceso es constante, al menos al inicio, este sería el valor mas adecuado.</p></li>
</ol>
</section>
</div><p><strong><code class="docutils literal notranslate"><span class="pre">Demostración</span></code></strong></p>
<ul class="simple">
<li><p>Dado que <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span> es necesario en el calculo recursivo que inicia con: <span class="math notranslate nohighlight">\(\tilde{y}_{1}=\lambda y_{1}+(1-\lambda)\tilde{y}_{0}\)</span>, estimamos su valor a partir de la Ecuación <a class="reference internal" href="#equation-eq-simple-exp-smoothing3">(13)</a></p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\tilde{y}_{1}&amp;=\lambda y_{1}+(1-\lambda)\tilde{y}_{0}\\
\tilde{y}_{2}&amp;=\lambda y_{2}+(1-\lambda)\tilde{y}_{1}=\lambda y_{2}+(1-\lambda)(\lambda y_{1}+(1-\lambda)\tilde{y}_{0})=\lambda(y_{2}+(1-\lambda)y_{1})+(1-\lambda)^{2}\tilde{y}_{0}\\
\tilde{y}_{3}&amp;=\lambda y_{3}+(1-\lambda)\tilde{y}_{2}=\lambda y_{3}+(1-\lambda)(\lambda(y_{2}+(1-\lambda)\tilde{y}_{1})+(1-\lambda)^{2}\tilde{y}_{0})\\
&amp;=\lambda(y_{3}+(1-\lambda)y_{2}+(1-\lambda)^{2}y_{1})+(1-\lambda)^{3}\tilde{y}_{0}\\
&amp;\vdots\\
\tilde{y}_{T}&amp;=\lambda(y_{T}+(1-\lambda)y_{T-1}+(1-\lambda)^{2}y_{T-2}+\cdots+(1-\lambda)^{T-1}y_{1})+(1-\lambda)^{T}\tilde{y}_{0}
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Por lo tanto, cuando <span class="math notranslate nohighlight">\(T\rightarrow\infty,~ (1-\lambda)^{T}\rightarrow 0\)</span>, esto es, la contribución de <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span> a <span class="math notranslate nohighlight">\(\tilde{y}_{T}\)</span> es mínima. Esto es, la estimación de <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span> no es relevante para un conjunto grande de datos.</p></li>
</ul>
</section>
<section id="el-valor-de-lambda">
<h2>El valor de <span class="math notranslate nohighlight">\(\lambda\)</span><a class="headerlink" href="#el-valor-de-lambda" title="Link to this heading">#</a></h2>
<div class="admonition-observacion admonition">
<p class="admonition-title">Observación</p>
<ul class="simple">
<li><p>En general, cuando <span class="math notranslate nohighlight">\(\lambda\)</span> tiende a 1, y se hace más hincapié en la última observación, los <em><strong>valores suavizados se aproximarán a las observaciones originales</strong></em>.</p></li>
<li><p>Si <span class="math notranslate nohighlight">\(\lambda=0\)</span>, los valores suavizados serán todos igual a una constante, a saber <span class="math notranslate nohighlight">\(\tilde{y}_{0}\)</span>. Esta línea constante sería la <em><strong>versión más suavizada</strong></em> de cualquier patrón que siga la serie de tiempo original.</p></li>
<li><p>Para <span class="math notranslate nohighlight">\(\lambda=1\)</span>, tenemos <span class="math notranslate nohighlight">\(\tilde{y}_{T}=y_{T}\)</span> y este representará la <em><strong>versión menos suavizada</strong></em> de la serie de tiempo original.</p></li>
<li><p>Con base en la selección de <span class="math notranslate nohighlight">\(\lambda\)</span>, esperamos acordemente que la varianza varíe entre 0 y la varianza de la serie de tiempo original.</p></li>
</ul>
</div>
<ul class="simple">
<li><p>Nótese que bajo el supuesto de independencia y varianza constante tenemos que</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\text{Var}(\tilde{y}_{T}) &amp;= \text{Var}\left(\lambda\sum_{t=0}^{\infty}(1-\lambda)^{t}y_{T-t}\right)\\
&amp;= \lambda^{2}\sum_{t=0}^{\infty}(1-\lambda)^{2t}\text{Var}(y_{T-t})\\
&amp;= \lambda^{2}\sum_{t=0}^{\infty}(1-\lambda)^{2t}\text{Var}(y_{T})\\
&amp;= \text{Var}(y_{T})\lambda^{2}\sum_{t=0}^{\infty}(1-\lambda)^{2t}
\end{align}
\end{split}\]</div>
<ul class="simple">
<li><p>Observe que</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\sum_{t=0}^{T-1}(1-\lambda)^{2t}=1+(1-\lambda)^{2}+(1-\lambda)^{4}+\cdots+(1-\lambda)^{2(T-1)}
\]</div>
<ul class="simple">
<li><p>Multiplicando por <span class="math notranslate nohighlight">\(1-(1-\lambda)^{2}\)</span> se tiene que:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
(1-(1-\lambda)^{2})\sum_{t=0}^{T-1}(1-\lambda)^{2t} &amp;= 1+(1-\lambda)^{2}+(1-\lambda)^{4}+\cdots+(1-\lambda)^{2(T-1)}\\
&amp;- ((1-\lambda)^{2}+(1-\lambda)^{4}+\cdots+(1-\lambda)^{2T}\\[3mm]
&amp;= 1-(1-\lambda)^{2T}\xrightarrow[T\rightarrow\infty]{}1,\quad |1-\lambda|&lt;1\Rightarrow\\
\sum_{t=0}^{T-1}(1-\lambda)^{2t} &amp;= \frac{1}{\lambda(2-\lambda)}
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Por lo tanto,</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\begin{align}
\text{Var}(\tilde{y}_{T}) = \text{Var}(y_{T})\lambda^{2}\sum_{t=0}^{\infty}(1-\lambda)^{2t} = \text{Var}(y_{T})\lambda^{2}\frac{1}{\lambda(2-\lambda)} = \frac{\lambda}{2-\lambda}\text{Var}(y_{T})
\end{align}
\]</div>
<ul class="simple">
<li><p>Nótese que si <span class="math notranslate nohighlight">\(\lambda\rightarrow1\)</span>, <span class="math notranslate nohighlight">\(\text{Var}(\tilde{y}_{T})\rightarrow\text{Var}(y_{T})\)</span>, y si <span class="math notranslate nohighlight">\(\lambda\rightarrow0\)</span>, <span class="math notranslate nohighlight">\(\text{Var}(\tilde{y}_{T}\rightarrow0)\)</span>. La pregunta ahora es, ¿cuánto suavizado se necesita?. En la literatura se recomienda <span class="math notranslate nohighlight">\(\lambda\)</span> entre 0.1 y 0.4 y, de hecho, funcionan bien en la práctica. Un método más riguroso para encontrar el valor <span class="math notranslate nohighlight">\(\lambda\)</span> se discutirá mas adelante en este capítulo.</p></li>
<li><p>Como medidas de precisión usaremos las siguientes métricas que vienen ya implementadas en <code class="docutils literal notranslate"><span class="pre">Python</span></code>; <code class="docutils literal notranslate"><span class="pre">MAPE,</span> <span class="pre">MAD</span></code> y <code class="docutils literal notranslate"><span class="pre">MSD</span></code>.</p></li>
<li><p>El <em><strong>error porcentual medio absoluto (MAPE)</strong></em> es el cambio porcentual medio absoluto entre el valor predicho, esto es <span class="math notranslate nohighlight">\(\tilde{y}_{t-1}:=\tilde{y}_{t}(t-1)\)</span>, para una predicción <em><strong>one-step-ahead</strong></em> y el valor real dado por</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\text{MAPE}=\frac{\displaystyle{\sum_{t=1}^{T}|(y_{t}-\tilde{y}_{t-1})/y_{t}|}}{T}\times 100,\quad (y_{t}\neq 0).
\]</div>
<ul class="simple">
<li><p>La <em><strong>desviación media absoluta (MAD)</strong></em> es la diferencia absoluta media entre los valores predichos y los verdaderos, dada por</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\text{MAD}=\frac{\displaystyle{\sum_{t=1}^{T}|(y_{t}-\tilde{y}_{t-1})|}}{T}.
\]</div>
<ul class="simple">
<li><p>La <em><strong>desviación cuadrática media (MSD)</strong></em> es la diferencia cuadrática media entre los valores predichos y los verdaderos, dada por</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\text{MSD}=\frac{\displaystyle{\sum_{t=1}^{T}(y_{t}-\tilde{y}_{t-1})^{2}}}{T}.
\]</div>
</section>
<section id="modelado-de-datos-de-series-temporales">
<h2>Modelado de datos de series temporales<a class="headerlink" href="#modelado-de-datos-de-series-temporales" title="Link to this heading">#</a></h2>
<div class="proof theorem admonition" id="theorem-2">
<p class="admonition-title"><span class="caption-number">Theorem 4 </span></p>
<section class="theorem-content" id="proof-content">
<ul>
<li><p>Considere un <em><strong>proceso constante</strong></em>, esto es, un proceso donde los datos de series de tiempo se espera que varíen en torno a un nivel constante, con fluctuaciones aleatorias, las cuales son caracterizadas usualmente por <em><strong>errores no correlacionados con media 0 y varianza constante</strong></em>.</p></li>
<li><p>La clase general de modelos puede expresarse como</p>
<div class="math notranslate nohighlight">
\[
    y_{t}=f(t, \boldsymbol{\beta})+\varepsilon_{t},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(\boldsymbol{\beta}\)</span> es un vector de parámetros desconocidos y <span class="math notranslate nohighlight">\(\varepsilon_{t}\)</span> representa errores no correlacionados.</p>
</li>
<li><p>El <em><strong>proceso constante</strong></em> es miembro de esta clase general:</p>
<div class="math notranslate nohighlight">
\[
    y_{t}=\beta_{0}+\varepsilon_{t},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(\beta_{0}\)</span> es igual a <span class="math notranslate nohighlight">\(\mu\)</span>.</p>
</li>
<li><p>Entonces, la <em><strong>estimación de mínimos cuadrados ponderada</strong></em> de <span class="math notranslate nohighlight">\(\beta_{0}\)</span> en el proceso constante, con <em><strong>pesos exponencialmente decrecientes en el tiempo</strong></em> es</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\hat{\beta}_{0}=(1-\theta)\sum_{t=0}^{T-1}\theta^{t}y_{T-t}.
\]</div>
</section>
</div><p><strong><code class="docutils literal notranslate"><span class="pre">Demostración</span></code></strong></p>
<ul class="simple">
<li><p>Consideremos la <em><strong>suma de errores cuadráticos</strong></em> para el proceso constante, dada por</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
SS_{E}=\sum_{t=1}^{T}(y_{t}-\mu)^{2}
\]</div>
<ul class="simple">
<li><p>Si afirmamos que no todas las observaciones deberían tener igual influencia sobre la suma, introducimos una cadena de <em><strong>pesos geométricamente decrecientes en tiempo</strong></em></p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-error-sq-sum1">
<span class="eqno">(14)<a class="headerlink" href="#equation-error-sq-sum1" title="Link to this equation">#</a></span>\[
SS_{E}^{\star}=\sum_{t=0}^{T-1}\theta^{t}(y_{T-t}-\beta_{0})^{2},~\text{donde}~|\theta|&lt;1.
\]</div>
<ul class="simple">
<li><p>Derivando <a class="reference internal" href="#equation-error-sq-sum1">(14)</a> con respecto a <span class="math notranslate nohighlight">\(\beta_{0}\)</span> e igualando a cero obtenemos el estimador por mínimos cuadrado para <span class="math notranslate nohighlight">\(\beta_{0}\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\begin{align*}
\frac{\partial SS_{E}^{\star}}{\partial\beta_{0}} &amp;= \frac{\partial}{\partial\beta_{0}}\left(\sum_{t=0}^{T-1}\theta^{t}(y_{T-t}-\hat{\beta}_{0})\right)=-2\sum_{t=0}^{T-1}\theta^{t}(y_{T-t}-\hat{\beta}_{0})=0
\end{align*}
\]</div>
<ul class="simple">
<li><p>Dado que <span class="math notranslate nohighlight">\(\sum_{t=0}^{T-1}\theta^{t}=(1-\theta^{T})/(1-\theta)\)</span>, entonces</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\hat{\beta}_{0}=\frac{1-\theta}{1-\theta^{T}}\sum_{t=0}^{T-1}\theta^{t}y_{T-t}\xrightarrow[T\rightarrow\infty]{}(1-\theta)\sum_{t=0}^{T-1}\theta^{t}y_{T-t}.
\]</div>
<ul class="simple">
<li><p>Nótese que <span class="math notranslate nohighlight">\(\hat{\beta}_{0}=\tilde{y}_{T}\)</span>. Esto es, el proceso de suavización exponencial simple en efecto provee una <em><strong>estimación de mínimos cuadrados ponderada</strong></em> de <span class="math notranslate nohighlight">\(\beta_{0}\)</span>, para el proceso constante con pesos que son exponencialmente decrecientes en el tiempo.</p></li>
</ul>
<div class="admonition-observacion admonition">
<p class="admonition-title">Observación</p>
<ul class="simple">
<li><p>Retomando con nuestra clase de modelo general <span class="math notranslate nohighlight">\(y_{t}=f(t; \boldsymbol{\beta})+\varepsilon_{t},~f(t, \boldsymbol{\beta})\)</span> puede ser cualquier función de <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
<li><p>Por ejemplo, para <em><strong>series de tiempo no estacionarias</strong></em>, es mas conveniente considerar una <em><strong>familia polinómica</strong></em>, donde el proceso constante es el modelos mas simple que podemos considerar.</p></li>
</ul>
</div>
<div class="proof theorem admonition" id="theorem-3">
<p class="admonition-title"><span class="caption-number">Theorem 5 </span></p>
<section class="theorem-content" id="proof-content">
<ul>
<li><p>Un modelo apropiado en tiempo para tendencias lineales está dado por:</p>
<div class="math notranslate nohighlight">
\[
    y_{t}=\beta_{0}+\beta_{1}t+\varepsilon_{t},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(\varepsilon_{t}\)</span> es no correlacionado con media 0 y varianza constante <span class="math notranslate nohighlight">\(\sigma_{\varepsilon}^{2}\)</span>.</p>
</li>
<li><p>Además, el suavizador exponencial simple es un estimador sesgado para el <em><strong>modelo de tendencia lineal</strong></em> y la cantidad de sesgo es: <span class="math notranslate nohighlight">\(-(1-\lambda)\beta_{1}/\lambda\)</span>, donde</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\text{E}(\tilde{y}_{T})=\beta_{0}+\beta_{1}T-\frac{1-\lambda}{\lambda}\beta_{1}=\text{E}(y_{T})-\frac{1-\lambda}{\lambda}\beta_{1}.
\]</div>
<ul>
<li><p>Dada la <em><strong>suavización exponencial de segundo orden</strong></em> definida por:</p>
<div class="math notranslate nohighlight">
\[
    \tilde{y}_{T}^{(2)}=\lambda\tilde{y}_{T}^{(1)}+(1-\lambda)\tilde{y}_{T-1}^{(2)},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(\tilde{y}_{T}^{(1)}, \tilde{y}_{T}^{(2)}\)</span> denotan las suavizaciones exponenciales de primer y segundo orden respectivamente. Entonces el predictor de <span class="math notranslate nohighlight">\(\tilde{y}_{T}\)</span> está dado por</p>
<div class="math notranslate nohighlight">
\[
    \tilde{y}_{T}=2\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)}.
    \]</div>
</li>
<li><p>Pude demostrarse que <span class="math notranslate nohighlight">\(\tilde{y}_{T}\)</span> es insesgado.</p></li>
</ul>
</section>
</div><p><strong><code class="docutils literal notranslate"><span class="pre">Demostración</span></code></strong></p>
<ul class="simple">
<li><p>Bajo el supuesto de independencia sobre <span class="math notranslate nohighlight">\((y_{t})_{t=1}^{\infty}\)</span>, calculamos suavización exponencial para datos de series de tiempo que exhiben tendencia lineal</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\text{E}(\tilde{y}_{T})=\text{E}\left(\lambda\sum_{t=0}^{T-1}(1-\lambda)^{t}y_{T-t}\right)=\lambda\sum_{t=0}^{T-1}(1-\lambda)^{t}\text{E}(y_{T-t}).
\]</div>
<ul class="simple">
<li><p>Dado que para la tendencia lineal: <span class="math notranslate nohighlight">\(\text{E}(y_{t})=E(\beta_{0})+\beta_{1}t+\varepsilon_{t})=\beta_{0}+\beta_{1}t\)</span>, entonces</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\text{E}(\tilde{y}_{T}) &amp;= \lambda\sum_{t=0}^{T-1}(1-\lambda)^{t}(\beta_{0}+\beta_{1}(T-t))\\
&amp;= \lambda\sum_{t=0}^{T-1}(1-\lambda)^{t}(\beta_{0}+\beta_{1}t)-\lambda\sum_{t=0}^{T-1}(1-\lambda)^{t}(\beta_{1}t)\\
&amp;= (\beta_{0}+\beta_{1}T)\lambda\sum_{t=0}^{T-1}(1-\lambda)^{t}-\lambda\beta_{1}\sum_{t=0}^{T-1}(1-\lambda)^{t}t.
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Dado que <span class="math notranslate nohighlight">\(|1-\lambda|&lt;1\)</span> se tiene que <span class="math notranslate nohighlight">\(\sum_{t=0}^{T-1}(1-\lambda)^{t}=1/(1-(1-\lambda))=1/\lambda\)</span>. Nótese además que</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\sum_{t=0}^{\infty}(1-\lambda)^{t}t&amp;=(1-\lambda)\sum_{t=0}^{\infty}t(1-\lambda)^{t-1}\\
&amp;= -(1-\lambda)\sum_{t=0}^{\infty}\frac{\partial}{\partial\lambda}(1-\lambda)^{t}\\
&amp;= -(1-\lambda)\frac{\partial}{\partial\lambda}\left(\sum_{t=0}^{\infty}(1-\lambda)^{t}\right)\\
&amp;= -(1-\lambda)\frac{\partial}{\partial\lambda}\left(\frac{1}{1-(1-\lambda)}\right)\\
&amp;= -(1-\lambda)\frac{\partial}{\partial\lambda}\left(\frac{1}{\lambda}\right)=-(1-\lambda)\left(-\frac{1}{\lambda^{2}}\right)=\frac{1-\lambda}{\lambda^{2}}.
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Entonces</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\text{E}(\tilde{y}_{T})=(\beta_{0}+\beta_{1}T)\lambda\left(\frac{1}{\lambda}\right)-\lambda\beta_{1}\left(\frac{1-\lambda}{\lambda^{2}}\right)=(\beta_{0}+\beta_{1}T)-\frac{1-\lambda}{\lambda}\beta_{1}=\text{E}(y_{T})-\frac{1-\lambda}{\lambda}\beta_{1}.
\]</div>
<ul class="simple">
<li><p>Esto es, la suavización exponencial simple es <em><strong>sesgada como estimador</strong></em> y la cantidad de sesgo está dada por <span class="math notranslate nohighlight">\(-(1-\lambda)\beta_{1}/\lambda\)</span>, la cual puede generar errores de subestimación.</p></li>
<li><p>Una solución puede ser usar <span class="math notranslate nohighlight">\(\lambda\)</span> grande ya que <span class="math notranslate nohighlight">\((1-\lambda)/\lambda\rightarrow0\)</span> cuando <span class="math notranslate nohighlight">\(\lambda\rightarrow1\)</span>. Técnicas autoadaptativas para <span class="math notranslate nohighlight">\(\lambda\)</span> pueden ser estudiadas, las cuales sigan los cambios en el proceso.</p></li>
</ul>
<ul>
<li><p>Dado que la suavización de segundo orden está dada por</p>
<div class="math notranslate nohighlight">
\[
    \tilde{y}_{T}^{(2)}=\lambda\tilde{y}_{T}^{(1)}+(1-\lambda)y_{T-1}^{(2)},
    \]</div>
<p>esto es, <span class="math notranslate nohighlight">\(\tilde{y}_{T}^{(2)}\)</span> es obtenida aplicando suavización exponencial simple a <span class="math notranslate nohighlight">\(\tilde{y}_{T}\)</span>.</p>
</li>
</ul>
<ul class="simple">
<li><p>Por motivos de derivación de la expresión, consideramos el mismo <span class="math notranslate nohighlight">\(\lambda\)</span> para <span class="math notranslate nohighlight">\(\tilde{y}_{T}^{(1)}\)</span> y <span class="math notranslate nohighlight">\(\tilde{y}_{t}^{(2)}\)</span>. Dado que la suavización exponencial de primer orden es sesgada, su suavización (<em><strong>suavización de segundo orden</strong></em>) también es sesgada. Entonces</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\text{E}(\tilde{y}_{T}^{(2)})=\text{E}(\tilde{y}_{T}^{(1)})-\frac{1-\lambda}{\lambda}\beta_{1}. 
\]</div>
<ul class="simple">
<li><p>Además</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\frac{1-\lambda}{\lambda}\beta_{1}=\text{E}(\tilde{y}_{T}^{(1)})-E(\tilde{y}_{T}^{(2)})\Rightarrow\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)}=\frac{1-\lambda}{\lambda}\beta_{1},~\text{entonces}
\]</div>
<div class="math notranslate nohighlight" id="equation-beta1-estimation-eq">
<span class="eqno">(15)<a class="headerlink" href="#equation-beta1-estimation-eq" title="Link to this equation">#</a></span>\[
\textcolor{red}{\hat{\beta}_{1, T}=\frac{\lambda}{1-\lambda}(\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)})}.
\]</div>
<ul class="simple">
<li><p>Usando la Ecuación <a class="reference internal" href="#equation-beta1-estimation-eq">(15)</a> tenemos que: <span class="math notranslate nohighlight">\(\text{E}(\tilde{y}_{T}^{(1)})=(\hat{\beta}_{0, T}+\hat{\beta}_{1, T}T)-(1-\lambda)\hat{\beta}_{1, T}/\lambda\)</span>, entonces, análogamente</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-beta0-estimation-eq">
<span class="eqno">(16)<a class="headerlink" href="#equation-beta0-estimation-eq" title="Link to this equation">#</a></span>\[
\textcolor{red}{\hat{\beta}_{0, T}=\tilde{y}_{T}^{(1)}-T\hat{\beta}_{1, T}+\displaystyle{\frac{1-\lambda}{\lambda}}\hat{\beta}_{1, T}.}
\]</div>
<ul class="simple">
<li><p>Reescribiendo <span class="math notranslate nohighlight">\(\hat{\beta}_{0, T}\)</span> en términos de <span class="math notranslate nohighlight">\(\tilde{y}_{T}^{(1)}\)</span> y <span class="math notranslate nohighlight">\(\tilde{y}_{T}^{(2)}\)</span> obtenemos</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\hat{\beta}_{0, T} &amp;= \tilde{y}_{T}^{(1)}-T\left(\frac{\lambda}{1-\lambda}(\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)})\right)+\frac{1-\lambda}{\lambda}\left(\frac{\lambda}{1-\lambda}(\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)})\right)\\
&amp;= \tilde{y}_{T}^{(1)}-T\frac{\lambda}{1-\lambda}(\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)})+(\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)})\\
&amp;= \left(2-T\frac{\lambda}{1-\lambda}\right)\tilde{y}_{T}^{(1)}-\left(1-T\frac{\lambda}{1-\lambda}\right)y_{T}^{(2)},
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Entonces</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-beta0-estimation-eq-yhat">
<span class="eqno">(17)<a class="headerlink" href="#equation-beta0-estimation-eq-yhat" title="Link to this equation">#</a></span>\[
\textcolor{red}{\hat{\beta}_{0, T} = \left(2-T\frac{\lambda}{1-\lambda}\right)\tilde{y}_{T}^{(1)}-\left(1-T\frac{\lambda}{1-\lambda}\right)y_{T}^{(2)}},
\]</div>
<ul class="simple">
<li><p>Combinando las Ecuaciones <a class="reference internal" href="#equation-beta1-estimation-eq">(15)</a>, <a class="reference internal" href="#equation-beta0-estimation-eq-yhat">(17)</a> tenemos que</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\tilde{y}_{T} &amp;= \hat{\beta}_{0, T}+\hat{\beta}_{1, T}T=\left(2-T\frac{\lambda}{1-\lambda}\right)\tilde{y}_{T}^{(1)}-\left(1-T\frac{\lambda}{1-\lambda}\right)\tilde{y}_{T}^{(2)}+\frac{\lambda}{1-\lambda}(\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)})T\\
&amp;= \left(2-T\frac{\lambda}{1-\lambda}+T\frac{\lambda}{1-\lambda}\right)\tilde{y}_{T}^{(1)}-\left(1-T\frac{\lambda}{1-\lambda}+T\frac{\lambda}{1-\lambda}\right)\tilde{y}_{T}^{(2)}\\[2mm]
&amp;=2\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)}.
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Entonces</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-first-exp-smooth">
<span class="eqno">(18)<a class="headerlink" href="#equation-first-exp-smooth" title="Link to this equation">#</a></span>\[
\textcolor{red}{\tilde{y}_{T}=2\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)}}
\]</div>
<ul class="simple">
<li><p>Nótese que como</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\text{E}(\tilde{y}_{T}^{(1)}) = (\beta_{0}+\beta_{1}T)-\frac{1-\lambda}{\lambda}\beta_{1}\Rightarrow\tilde{y}_{T}^{(1)}=(\hat{\beta}_{0, T}+\hat{\beta}_{1, T}T)-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, T}
\]</div>
<ul class="simple">
<li><p>Además</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\text{E}(\tilde{y}_{T}^{(2)}) &amp;= \text{E}(\tilde{y}_{T}^{(1)})-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, T}=\text{E}\left((\hat{\beta}_{0, T}+\hat{\beta}_{1, T}T)-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, T}\right)-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, T}\\
&amp;= (\hat{\beta}_{0, T}+\hat{\beta}_{1, T})-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, T}-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, T}=(\hat{\beta}_{0, T}+\hat{\beta}_{1, T})-2\left(\frac{1-\lambda}{\lambda}\right)\hat{\beta}_{1, T}
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Entonces</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\textcolor{red}{
\begin{align*}
\tilde{y}_{T}^{(1)} &amp;= (\hat{\beta}_{0, T}+\hat{\beta}_{1, T})-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, T}\\
\tilde{y}_{T}^{(2)} &amp;= (\hat{\beta}_{0, T}+\hat{\beta}_{1, T})-2\left(\frac{1-\lambda}{\lambda}\right)\hat{\beta}_{1, T}
\end{align*}
}
\end{split}\]</div>
<ul class="simple">
<li><p>Con los respectivos valores iniciales</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\tilde{y}_{0}^{(1)} &amp;= \hat{\beta}_{0, 0}-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, 0}\\
\tilde{y}_{0}^{(2)} &amp;= \hat{\beta}_{0, 0}-2\left(\frac{1-\lambda}{\lambda}\right)\hat{\beta}_{1, 0}
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>La <em><strong>estimación de los parámetros iniciales</strong></em> es obtenida usualmente por medio del <em><strong>método de mínimos cuadrado</strong></em>. Por ejemplo, los parámetros <span class="math notranslate nohighlight">\(\hat{\beta}_{0, 0}, \hat{\beta}_{1, 0}\)</span> asociados al <em><strong>US Consumer Prices Index (CPI)</strong></em> de Enero 1995 a Diciembre 2004, obtenidos por mínimos cuadrados están dados por <span class="math notranslate nohighlight">\(\hat{\beta}_{0, 0}=149.89\)</span> y <span class="math notranslate nohighlight">\(\hat{\beta}_{1, 0}=0.3\)</span>. Usando <span class="math notranslate nohighlight">\(\lambda=0.3\)</span> se tiene que</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\hat{y}_{0}^{(1)} &amp;= \hat{\beta}_{0, 0}-\frac{1-\lambda}{\lambda}\hat{\beta}_{1, 0}=149.89-\frac{1-0.3}{0.3}0.3=146.22\\
\hat{y}_{0}^{(2)} &amp;= \hat{\beta}_{0, 0}-2\frac{1-\lambda}{\lambda}\hat{\beta}_{1, 0}=149.89-2\frac{1-0.3}{0.3}0.3=142.56\\
\end{align}
\end{split}\]</div>
</section>
<section id="suavizacion-exponencial-de-alto-orden">
<h2>Suavización exponencial de alto orden<a class="headerlink" href="#suavizacion-exponencial-de-alto-orden" title="Link to this heading">#</a></h2>
<ul>
<li><p>Hasta ahora hemos discutido el uso de suavizadores exponenciales al estimar los <em><strong>modelos de tendencia constante y lineal</strong></em>. Para el primero empleamos el suavizador exponencial simple o de primer orden y para el segundo el suavizador exponencial de segundo orden. Además, se puede demostrar que para el <em><strong>modelo polinómico general de</strong></em> <span class="math notranslate nohighlight">\(n\text{th}\)</span>-ésimo grado de la forma</p>
<div class="math notranslate nohighlight" id="equation-highorder-exponential-smoothing">
<span class="eqno">(19)<a class="headerlink" href="#equation-highorder-exponential-smoothing" title="Link to this equation">#</a></span>\[
    y_{t}=\beta_{0}+\beta_{1}t+\frac{\beta_{2}}{2!}t^{2}+\cdots+\frac{\beta_{n}}{n!}t^{n}+\varepsilon_{t},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(\varepsilon_{t}\)</span> se supone independiente con media 0 y varianza constante <span class="math notranslate nohighlight">\(\sigma_{\varepsilon}^{2}\)</span>, empleamos suavizadores exponenciales de orden <span class="math notranslate nohighlight">\(n-1\)</span></p>
<div class="math notranslate nohighlight">
\[\begin{split}
    \begin{align*}
    \tilde{y}_{T}^{(1)} &amp;= \lambda y_{T}+(1-\lambda)\tilde{y}_{T-1}^{(1)}\\
    \tilde{y}_{T}^{(2)} &amp;= \lambda \tilde{y}_{T}^{(1)}+(1-\lambda)\tilde{y}_{T-1}^{(2)}\\
    &amp;\vdots\\
    \tilde{y}_{T}^{(n)} &amp;= \lambda \tilde{y}_{T}^{(n-1)}+(1-\lambda)\tilde{y}_{T-1}^{(n)},
    \end{align*}
    \end{split}\]</div>
<p>para estimar los parámetros del modelo.</p>
</li>
</ul>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<ul class="simple">
<li><p>Incluso para el modelo cuadrático, los cálculos se vuelven bastante complicados. Consulte <span id="id1">[<a class="reference internal" href="biblio.html#id5" title="D.C. Montgomery, L.A. Johnson, and J.S. Gardiner. Forecasting and Time Series Analysis. Industrial engineering series. McGraw-Hill, 1990. ISBN 9780070428584. URL: https://books.google.com.co/books?id=t9HuAAAAMAAJ.">Montgomery <em>et al.</em>, 1990</a>]</span>, <span id="id2">[<a class="reference internal" href="biblio.html#id6" title="Robert Goodell Brown. Smoothing, forecasting and prediction of discrete time series. Courier Corporation, 2004.">Brown, 2004</a>]</span> y <span id="id3">[<a class="reference internal" href="biblio.html#id9" title="B. Abraham and J. Ledolter. Statistical Methods for Forecasting. Wiley Series in Probability and Statistics. Wiley, 2009. ISBN 9780470317297. URL: https://books.google.com.co/books?id=WIPxdb2P8sAC.">Abraham and Ledolter, 2009</a>]</span> para las <em><strong>soluciones a problemas de suavizamiento exponencial de orden superior</strong></em>.</p></li>
<li><p>Si un polinomio de alto orden parece ser necesario para la serie de tiempo, los <em><strong>modelos autorregresivos de media móvil integrada (ARIMA) pueden considerarse en cambio</strong></em>.</p></li>
</ul>
</div>
</section>
<section id="forecasting">
<h2>Forecasting<a class="headerlink" href="#forecasting" title="Link to this heading">#</a></h2>
<div class="admonition-forecasting admonition">
<p class="admonition-title">Forecasting</p>
<ul class="simple">
<li><p>En el tiempo <span class="math notranslate nohighlight">\(T\)</span>, deseamos predecir la observación en la unidad de tiempo siguiente, <span class="math notranslate nohighlight">\(T+1\)</span>, u otro valor en el futuro. Denotaremos el pronóstico <span class="math notranslate nohighlight">\(\tau\)</span> pasos hacia adelante (<em>horizonte</em> <span class="math notranslate nohighlight">\(\tau\)</span>) realizado en el tiempo <span class="math notranslate nohighlight">\(T\)</span> como <span class="math notranslate nohighlight">\(\hat{y}_{T+\tau}(T)\)</span>.</p></li>
</ul>
</div>
<section id="proceso-constante">
<h3>Proceso constante<a class="headerlink" href="#proceso-constante" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>La suavización exponencial de primer orden para el proceso constante está dada por</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\tilde{y}_{T}=\lambda y_{T}+(1-\lambda)\tilde{y}_{T-1}
\]</div>
<ul class="simple">
<li><p>Se demostró también que <span class="math notranslate nohighlight">\(f(t, \boldsymbol{\beta})=\beta_{0}\)</span> puede ser estimado con <span class="math notranslate nohighlight">\(\tilde{y}_{T}\)</span>. Dado que hasta el momento, el error aleatorio no puede ser predicho</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\hat{y}_{T+\tau}(T)=\tilde{y}_{T}=\hat{\beta}_{0}.
\]</div>
<ul class="simple">
<li><p>Dado que pronósticos constantes pueden no ser correctos a medida que vamos acumulando observaciones, actualizamos nuestra predicción por medio de técnicas como el <em><strong>rolling</strong></em>.</p></li>
<li><p>Por ejemplo, si la observación en el tiempo <span class="math notranslate nohighlight">\(T+1\)</span> está disponible, nuestro pronostico para futuras observaciones sería</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-fc-in-tplustau-eq">
<span class="eqno">(20)<a class="headerlink" href="#equation-fc-in-tplustau-eq" title="Link to this equation">#</a></span>\[\begin{split}
\begin{align*}
\tilde{y}_{T+1} &amp;= \lambda y_{T+1}+(1-\lambda)\tilde{y}_{T},\quad\text{o bien}\\
\tilde{y}_{T+1+\tau}(T+1) &amp;= \lambda y_{T+1}+(1-\lambda)\tilde{y}_{T+\tau}(T)\\[4mm]
\end{align*}
\end{split}\]</div>
<figure class="align-center" id="forecasttau-timeseries-fig">
<a class="reference internal image-reference" href="_images/forecasttau_timeseries.png"><img alt="_images/forecasttau_timeseries.png" src="_images/forecasttau_timeseries.png" style="width: 540.0px; height: 105.66px;" />
</a>
</figure>
<ul>
<li><p>Para <span class="math notranslate nohighlight">\(\tau=1\)</span> la Ecuación <a class="reference internal" href="#equation-fc-in-tplustau-eq">(20)</a> puede reescribirse como</p>
<div class="math notranslate nohighlight">
\[\begin{split}
    \begin{align*}
    \tilde{y}_{T+2}(T+1) &amp;= \lambda y_{T+1}+(1-\lambda)\tilde{y}_{T+1}(T)\\
    &amp;= \tilde{y}_{T+1}(T)+\lambda(y_{T+1}-\tilde{y}_{T+1}(T))\\
    &amp;= \tilde{y}_{T+1}(T)+\lambda e_{T+1}(1),
    \end{align*}
    \end{split}\]</div>
<p>donde <span class="math notranslate nohighlight">\(e_{T+1}(1):=y_{T+1}-\tilde{y}_{T+1}(T)\)</span> es llamado, predicción de un paso hacia adelante (<em><strong>one-step-ahead</strong></em>) o error de predicción.</p>
</li>
</ul>
<div class="admonition-observacion admonition">
<p class="admonition-title">Observación</p>
<ul class="simple">
<li><p>Pronostico para la observación siguiente es simplemente, el <em><strong>pronostico actual mas una fracción del error cometido en el pronostico de la observación actual</strong></em></p></li>
<li><p>Nótese que la velocidad de reacción del pronostico al error de predicción depende del factor de descuento <span class="math notranslate nohighlight">\(\lambda\)</span></p></li>
</ul>
</div>
</section>
</section>
<section id="seleccion-de-lambda">
<h2>Selección de <span class="math notranslate nohighlight">\(\lambda\)</span><a class="headerlink" href="#seleccion-de-lambda" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Definimos la suma de cuadrado para los errores de predicción de horizonte 1 como</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
SS_{E}(\lambda)=\sum_{t=1}^{T}e_{t}^{2}(1).
\]</div>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<ul class="simple">
<li><p>Para un conjunto histórico de datos, podemos en general calcular <span class="math notranslate nohighlight">\(SS_{E}(\lambda)\)</span> para varios valores de <span class="math notranslate nohighlight">\(\lambda\)</span> y <em><strong>seleccionar aquel con la menor suma de errores de predicción al cuadrado</strong></em>.</p></li>
</ul>
</div>
</section>
<section id="intervalo-de-prediccion">
<h2>Intervalo de predicción<a class="headerlink" href="#intervalo-de-prediccion" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>El cálculo de intervalos de predicción requiere de la <em><strong>estimación de la varianza del error de predicción</strong></em>. Este tipo de técnicas serán estudiadas mas adelante en la presente sección</p></li>
</ul>
<div class="admonition-proceso-contante admonition">
<p class="admonition-title">Proceso contante</p>
<ul>
<li><p>Para un proceso constante, el intervalo de predicción <span class="math notranslate nohighlight">\(100(1-\alpha/2)\)</span> para cualquier horizonte <span class="math notranslate nohighlight">\(\tau\)</span> está dado por</p>
<div class="math notranslate nohighlight">
\[
    \tilde{y}\pm Z_{\alpha/2}\hat{\sigma}_{e},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(\tilde{y}_{T}\)</span> es la suavización exponencial de primer orden, <span class="math notranslate nohighlight">\(Z_{\alpha/2}\)</span> es el <span class="math notranslate nohighlight">\(100(1-\alpha/2)\)</span> percentíl de la distribución normal estándar, y <span class="math notranslate nohighlight">\(\hat{\sigma}_{e}\)</span> es la estimación de la desviación estándar de los errores predichos.</p>
</li>
</ul>
</div>
<ul class="simple">
<li><p>Encontraremos solución a problemas de intervalo constante para todos los horizontes de predicción.</p></li>
</ul>
<div class="admonition-proceso-de-tendencia-lineal admonition">
<p class="admonition-title">Proceso de tendencia lineal</p>
<ul class="simple">
<li><p>El pronóstico de horizonte <span class="math notranslate nohighlight">\(\tau\)</span> para el <em><strong>modelo de tendencia lineal</strong></em> está dado por</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\hat{y}_{T+\tau}=\hat{\beta}_{0, T}+\hat{\beta}_{1, T}(T+\tau)=\hat{\beta}_{0, T}+\hat{\beta}_{1, T}T+\hat{\beta}_{1, T}\tau=\hat{y}_{T}+\hat{\beta}_{1, T}\tau.
\]</div>
<ul class="simple">
<li><p>En términos de suavizadores exponenciales</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\hat{y}_{T+\tau}(T) &amp;= (2\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)})+\tau\frac{\lambda}{1-\lambda}(\tilde{y}_{T}^{(1)}-\tilde{y}_{T}^{(2)})\\
&amp;= \left(2+\frac{\lambda}{1-\lambda}\tau\right)\tilde{y}_{T}^{(1)}-\left(1+\frac{\lambda}{1-\lambda}\tau\right)\tilde{y}_{T}^{(2)}.
\end{align*}
\end{split}\]</div>
</div>
<ul class="simple">
<li><p>Nótese que las predicciones dependerán ahora del horizonte de predicción <span class="math notranslate nohighlight">\(\tau\)</span>. En este caso el <span class="math notranslate nohighlight">\(100(1-\alpha/2)\)</span> intervalo de predicción para cualquier horizonte de tiempo <span class="math notranslate nohighlight">\(\tau\)</span> está dado por</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\left(2+\frac{\lambda}{1-\lambda}\tau\right)\tilde{y}_{T}^{(1)}-\left(1+\frac{\lambda}{1-\lambda}\tau\right)\tilde{y}_{T}^{(2)}\pm Z_{\alpha/2}\hat{\sigma}_{e}.
\]</div>
</section>
<section id="estimacion-de-sigma-e-2">
<h2>Estimación de <span class="math notranslate nohighlight">\(\sigma_{e}^{2}\)</span><a class="headerlink" href="#estimacion-de-sigma-e-2" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>En el proceso de estimar la varianza de los errores de pronóstico, representada como <span class="math notranslate nohighlight">\(\sigma_{e}^{2}\)</span>, frecuentemente se postula que el modelo subyacente (por ejemplo, constante, tendencia lineal) es <em><strong>correcto e invariante en el tiempo</strong></em>. Bajo estas condiciones, dos metodologías distintas están disponibles para estimar <span class="math notranslate nohighlight">\(\sigma_{e}^{2}\)</span></p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">Assignment</p>
<ul class="simple">
<li><p>Encuentre la estimación de la varianza de los errores de pronóstico <span class="math notranslate nohighlight">\(\sigma_{e}^{2}\)</span> para el modelo de suavización exponencial. Utilice <code class="docutils literal notranslate"><span class="pre">Látex</span></code> para redactar la solución y además, utilice los siguientes documentos como guía: <a class="reference external" href="https://www.pomsmeetings.org/confproceedings/015/fullpapers/015-0271.pdf">Peter Wanke et. al</a> y <a class="reference external" href="http://adjifern.lecture.ub.ac.id/files/2016/03/bahan-ADE-minggu-11b.pdf">Kuliah Genap</a>.</p></li>
</ul>
</div>
<ol class="arabic simple">
<li><p>Dado el pronostico <code class="docutils literal notranslate"><span class="pre">one-step-ahead</span></code> definido como <span class="math notranslate nohighlight">\(e_{T}(1)=y_{T}-\hat{y}_{T}(T-1)\)</span>. El objetivo es aplicar el modelo a los datos históricos y obtener el error de pronostico a calcular</p></li>
</ol>
<div class="math notranslate nohighlight">
\[
\sigma_{e}^{2}=\frac{1}{T}\sum_{t=1}^{T}e_{t}^{2}(1)=\frac{1}{T}\sum_{t=1}^{T}(y_{t}-\hat{y}_{t}(t-1))^{2}.
\]</div>
<ul class="simple">
<li><p>Nótese que en el calculo de la varianza, la media del ajuste no fue necesaria, ya que para el modelo correcto los pronósticos son insesgados; esto es, el valor esperado de los errores de pronóstico es 0.</p></li>
<li><p>A medida que se recopilan más datos, la varianza de los errores de pronóstico puede ser actualizada</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\hat{\sigma}_{eT+1}=\frac{1}{T+1}\left(T\hat{\sigma}_{e, T}^{2}+e_{T+1}^{2}(1)\right).
\]</div>
<ul class="simple">
<li><p>Puede resultar contraintuitivo tener una varianza constante de errores de pronóstico para todos los horizontes de predicción. En su lugar, podemos definir <span class="math notranslate nohighlight">\(\sigma_{e}^{2}(\tau)\)</span> como la <code class="docutils literal notranslate"><span class="pre">varianza</span> <span class="pre">del</span> <span class="pre">error</span> <span class="pre">de</span> <span class="pre">pronóstico</span> <span class="pre">a</span></code> <span class="math notranslate nohighlight">\(\tau\)</span> <code class="docutils literal notranslate"><span class="pre">pasos</span> <span class="pre">hacia</span> <span class="pre">adelante</span></code> y estimarla mediante</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-error-variance-estimation-tau">
<span class="eqno">(21)<a class="headerlink" href="#equation-error-variance-estimation-tau" title="Link to this equation">#</a></span>\[
\hat{\sigma}_{e}^{2}(\tau)=\frac{1}{T-\tau+1}\sum_{t=\tau}^{T}e_{1}^{2}(\tau).
\]</div>
<ul class="simple">
<li><p>Por lo tanto, la estimación en la Ecuación <code class="docutils literal notranslate"><span class="pre">eq</span></code>{error_variance_estimation_tau} puede ser utilizada en los cálculos del <code class="docutils literal notranslate"><span class="pre">intervalo</span> <span class="pre">de</span> <span class="pre">predicción</span> <span class="pre">para</span> <span class="pre">el</span> <span class="pre">pronóstico</span> <span class="pre">a</span></code> <span class="math notranslate nohighlight">\(\tau\)</span> <code class="docutils literal notranslate"><span class="pre">pasos</span> <span class="pre">hacia</span> <span class="pre">adelante</span></code>.</p></li>
</ul>
<ol class="arabic" start="2">
<li><p>Para el segundo método de estimación de <span class="math notranslate nohighlight">\(\sigma_{e}^{2}\)</span>, primero definiremos la <code class="docutils literal notranslate"><span class="pre">desviación</span> <span class="pre">media</span> <span class="pre">absoluta</span></code> <span class="math notranslate nohighlight">\(\Delta\)</span> como</p>
<div class="math notranslate nohighlight">
\[
    \Delta = E(|e-E(e)|)
    \]</div>
<p>y, asumiendo que el modelo es correcto, calcular su estimación mediante</p>
<div class="math notranslate nohighlight" id="equation-mean-absolute-deviationt">
<span class="eqno">(22)<a class="headerlink" href="#equation-mean-absolute-deviationt" title="Link to this equation">#</a></span>\[
    \hat{\Delta}_{T}=\delta|e_{T}(1)|+(1-\delta)\hat{\Delta}_{T-1}.
    \]</div>
<p>Entonces, el estimador de <span class="math notranslate nohighlight">\(\sigma_{e}^{2}\)</span> está dado por</p>
<div class="math notranslate nohighlight">
\[
    \hat{\sigma}_{e, T}=1.25\hat{\Delta}_{T}.
    \]</div>
</li>
</ol>
</section>
<section id="adaptacion-actualizada-del-factor-de-descuento">
<h2>Adaptación actualizada del factor de descuento<a class="headerlink" href="#adaptacion-actualizada-del-factor-de-descuento" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Cambios en el modelo subyacente de series temporales dificultarán que el suavizador exponencial con factor de descuento fijo siga estos cambios. Por lo tanto, surge la necesidad de <code class="docutils literal notranslate"><span class="pre">monitorear</span> <span class="pre">y,</span> <span class="pre">si</span> <span class="pre">es</span> <span class="pre">necesario,</span> <span class="pre">modificar</span> <span class="pre">el</span> <span class="pre">factor</span> <span class="pre">de</span> <span class="pre">descuento</span></code>. Al hacerlo, el factor de descuento se adaptará a los cambios en el modelo de series temporales.</p></li>
<li><p>Para ello, emplearemos el procedimiento descrito originalmente por <span id="id4">[<a class="reference internal" href="biblio.html#id4" title="DW Trigg and A Gi Leach. Exponential smoothing with an adaptive response rate. Journal of the Operational Research Society, 18:53–59, 1967.">Trigg and Leach, 1967</a>]</span> para un único factor de descuento. Como ejemplo, consideraremos el <code class="docutils literal notranslate"><span class="pre">suavizador</span> <span class="pre">exponencial</span> <span class="pre">de</span> <span class="pre">primer</span> <span class="pre">orden</span></code> y lo modificaremos de la siguiente manera:</p></li>
</ul>
<div class="math notranslate nohighlight" id="equation-adaptive-discount-factor">
<span class="eqno">(23)<a class="headerlink" href="#equation-adaptive-discount-factor" title="Link to this equation">#</a></span>\[
\hat{y}_{T}=\lambda_{T}y_{T}+(1-\lambda_{T})\hat{y}_{T-1}.
\]</div>
<ul>
<li><p>Nótese que en la Ecuación <a class="reference internal" href="#equation-adaptive-discount-factor">(23)</a>, el factor de descuento <span class="math notranslate nohighlight">\(\lambda_{T}\)</span> se introduce como una función del tiempo y, por lo tanto, <code class="docutils literal notranslate"><span class="pre">se</span> <span class="pre">le</span> <span class="pre">permite</span> <span class="pre">adaptarse</span> <span class="pre">a</span> <span class="pre">los</span> <span class="pre">cambios</span> <span class="pre">en</span> <span class="pre">el</span> <span class="pre">modelo</span> <span class="pre">de</span> <span class="pre">series</span> <span class="pre">temporales</span></code>.</p></li>
<li><p>También definimos el <code class="docutils literal notranslate"><span class="pre">error</span> <span class="pre">de</span> <span class="pre">suavizado</span></code> como</p>
<div class="math notranslate nohighlight">
\[
    Q_{T}=\delta e_{T}(1)+(1-\delta)Q_{T-1},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(\delta\)</span> es un parámetro de suavización.</p>
</li>
</ul>
<ul>
<li><p>Por último, definimos la señal de seguimiento como</p>
<div class="math notranslate nohighlight">
\[
    \frac{Q_{T}}{\hat{\Delta}_{T}},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(\hat{\Delta}_{T}\)</span> está dado por la Ecuación <a class="reference internal" href="#equation-mean-absolute-deviationt">(22)</a>.</p>
</li>
</ul>
<ul>
<li><p>Se espera que este cociente sea cercano a 0 cuando el sistema de predicción funciona bien, y que se acerque a <span class="math notranslate nohighlight">\(\pm1\)</span> cuando empiece a fallar. De hecho, <span id="id5">[<a class="reference internal" href="biblio.html#id4" title="DW Trigg and A Gi Leach. Exponential smoothing with an adaptive response rate. Journal of the Operational Research Society, 18:53–59, 1967.">Trigg and Leach, 1967</a>]</span> sugieren fijar el factor de descuento en</p>
<div class="math notranslate nohighlight" id="equation-adaptive-discount-factor-abs">
<span class="eqno">(24)<a class="headerlink" href="#equation-adaptive-discount-factor-abs" title="Link to this equation">#</a></span>\[
    \lambda_{T}=\left|\frac{Q_{T}}{\hat{\Delta}_{T}}\right|,
    \]</div>
<p>Donde <span class="math notranslate nohighlight">\(\hat{\Delta}_{T}\)</span> está dado por la Ecuación <a class="reference internal" href="#equation-mean-absolute-deviationt">(22)</a>. La Ecuación <a class="reference internal" href="#equation-adaptive-discount-factor-abs">(24)</a> <code class="docutils literal notranslate"><span class="pre">permitirá</span> <span class="pre">actualizar</span> <span class="pre">automáticamente</span> <span class="pre">el</span> <span class="pre">factor</span> <span class="pre">de</span> <span class="pre">descuento</span></code>.</p>
</li>
</ul>
</section>
<section id="evaluacion-del-modelo">
<h2>Evaluación del modelo<a class="headerlink" href="#evaluacion-del-modelo" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Si el modelo de pronóstico funciona como se esperaba, <code class="docutils literal notranslate"><span class="pre">los</span> <span class="pre">errores</span> <span class="pre">de</span> <span class="pre">pronóstico</span> <span class="pre">deberían</span> <span class="pre">no</span> <span class="pre">exhibir</span> <span class="pre">ningún</span> <span class="pre">patrón</span> <span class="pre">o</span> <span class="pre">estructura</span></code>; es decir, no deberían estar correlacionados. Por lo tanto, siempre es una buena idea verificar esto. Puede hacerlo calculando el <code class="docutils literal notranslate"><span class="pre">ACF</span> <span class="pre">muestral</span> <span class="pre">de</span> <span class="pre">los</span> <span class="pre">errores</span> <span class="pre">de</span> <span class="pre">pronóstico</span></code> de</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
r_{k}=\frac{\displaystyle{\sum_{t=k}^{T-1}[e_{t}(1)-\overline{e}][e_{t-k}(1)-\overline{e}]}}{\displaystyle{\sum_{T=0}^{T-1}[e_{t}(1)-\overline{e}]^{2}}},~\text{donde}~\overline{e}=\frac{1}{n}\sum_{t=1}^{T}e_{t}(1).
\]</div>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<ul class="simple">
<li><p>Si los <code class="docutils literal notranslate"><span class="pre">errores</span> <span class="pre">de</span> <span class="pre">pronóstico</span></code> de un paso adelante en realidad <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">están</span> <span class="pre">correlacionados</span></code>, las <code class="docutils literal notranslate"><span class="pre">autocorrelaciones</span> <span class="pre">muestrales</span> <span class="pre">para</span> <span class="pre">cualquier</span> <span class="pre">rezago</span></code> <span class="math notranslate nohighlight">\(k\)</span> <code class="docutils literal notranslate"><span class="pre">deben</span> <span class="pre">estar</span> <span class="pre">alrededor</span> <span class="pre">de</span> <span class="pre">0</span></code> con un error estándar <span class="math notranslate nohighlight">\(1/\sqrt{T}\)</span>.</p></li>
<li><p>De ahí una autocorrelación muestral para cualquier rezago <span class="math notranslate nohighlight">\(k\)</span> que se encuentre fuera de los límites <span class="math notranslate nohighlight">\(\pm2/\sqrt{T}\)</span> requerirán una mayor investigación del modelo.</p></li>
</ul>
</div>
</section>
<section id="suavizacion-exponencial-para-datos-estacionales">
<h2>Suavización exponencial para datos estacionales<a class="headerlink" href="#suavizacion-exponencial-para-datos-estacionales" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Algunos datos de series de tiempo exhiben <code class="docutils literal notranslate"><span class="pre">patrones</span> <span class="pre">cíclicos</span> <span class="pre">o</span> <span class="pre">estacionales</span></code> que no se pueden modelar efectivamente utilizando el modelo polinómico de la Ecuación <a class="reference internal" href="#equation-highorder-exponential-smoothing">(19)</a>. Hay varios enfoques disponibles para el análisis de dichos datos.</p></li>
<li><p>La metodología en la que nos centraremos fue introducida originalmente por <code class="docutils literal notranslate"><span class="pre">Holt</span> <span class="pre">(1957)</span> <span class="pre">and</span> <span class="pre">Winters</span> <span class="pre">(1960)</span></code> y generalmente se conoce como <code class="docutils literal notranslate"><span class="pre">método</span> <span class="pre">de</span> <span class="pre">Winters</span></code>, donde se realiza un ajuste estacional al modelo de tendencia lineal.</p></li>
</ul>
<section id="modelo-estacional-aditivo">
<h3>Modelo estacional aditivo<a class="headerlink" href="#modelo-estacional-aditivo" title="Link to this heading">#</a></h3>
<ul>
<li><p>Para el caso del <code class="docutils literal notranslate"><span class="pre">modelo</span> <span class="pre">estacional</span> <span class="pre">aditivo</span></code>, asumiremos que la serie temporal estacional se puede representar mediante el siguiente modelo:</p>
<div class="math notranslate nohighlight" id="equation-additive-stational-model">
<span class="eqno">(25)<a class="headerlink" href="#equation-additive-stational-model" title="Link to this equation">#</a></span>\[
    y_{t}=L_{t}+S_{t}+\varepsilon_{t},
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(L_{t}\)</span> representa el nivel o <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span> <span class="pre">lineal</span></code> y puede a su vez ser representado por <span class="math notranslate nohighlight">\(\beta_{0}+\beta_{1}t\)</span>; <span class="math notranslate nohighlight">\(S_{t}\)</span> representa el <code class="docutils literal notranslate"><span class="pre">ajuste</span> <span class="pre">estacional</span></code> con <span class="math notranslate nohighlight">\(S_{t}=S_{t+s}=S_{t+2s}=\cdots\)</span> para <span class="math notranslate nohighlight">\(t=1, 2,\cdots, s-1\)</span> donde <span class="math notranslate nohighlight">\(s\)</span> es la longitud de período (estación) de los ciclos; y suponemos que <span class="math notranslate nohighlight">\(\varepsilon_{t}\)</span> es <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">correlacionado</span> <span class="pre">con</span> <span class="pre">media</span> <span class="pre">o</span> <span class="pre">y</span> <span class="pre">varianza</span> <span class="pre">constante</span></code> <span class="math notranslate nohighlight">\(\sigma_{\varepsilon}^{2}\)</span>.</p>
</li>
</ul>
<ul class="simple">
<li><p>Una <code class="docutils literal notranslate"><span class="pre">restricción</span> <span class="pre">habitual</span></code> de este modelo es que los ajustes estacionales suman cero durante un periodo,</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\sum_{t=1}^{s}S_{t}=0.
\]</div>
<ul class="simple">
<li><p>En el modelo dado en la Ecuación <a class="reference internal" href="#equation-additive-stational-model">(25)</a>, para pronosticar las observaciones futuras, emplearemos <code class="docutils literal notranslate"><span class="pre">suavizadores</span> <span class="pre">exponenciales</span> <span class="pre">de</span> <span class="pre">primer</span> <span class="pre">orden</span> <span class="pre">con</span> <span class="pre">diferentes</span> <span class="pre">factores</span> <span class="pre">de</span> <span class="pre">descuento</span></code>. El procedimiento para actualizar las estimaciones de los parámetros una vez que se obtiene la observación actual <span class="math notranslate nohighlight">\(y_{T}\)</span> es el siguiente.</p></li>
</ul>
<ol class="arabic">
<li><p>Actualizar la estimación de <span class="math notranslate nohighlight">\(L_{t}\)</span> usando</p>
<div class="math notranslate nohighlight" id="equation-lt-estimation">
<span class="eqno">(26)<a class="headerlink" href="#equation-lt-estimation" title="Link to this equation">#</a></span>\[
    \hat{L}_{t}=\lambda_{1}(y_{T}-\hat{S}_{T-s})+(1-\lambda_{1})(\hat{L}_{T-1}+\hat{\beta}_{1, T-1}),
    \]</div>
<p>donde <span class="math notranslate nohighlight">\(0&lt;\lambda_{1}&lt;1\)</span>. Cabe señalar que en la Ecuación <a class="reference internal" href="#equation-lt-estimation">(26)</a>, la primera parte puede verse como el valor “actual” de <span class="math notranslate nohighlight">\(L_{T}\)</span> y la segunda parte como el pronóstico de <span class="math notranslate nohighlight">\(L_{T}\)</span> basado en las estimaciones en <span class="math notranslate nohighlight">\(T-1\)</span>.</p>
</li>
</ol>
<ol class="arabic" start="2">
<li><p>Actualizar la estimación de <span class="math notranslate nohighlight">\(\beta_{1}\)</span> usando</p>
<div class="math notranslate nohighlight" id="equation-beta1t-additive-seasonal-model">
<span class="eqno">(27)<a class="headerlink" href="#equation-beta1t-additive-seasonal-model" title="Link to this equation">#</a></span>\[
   \hat{\beta}_{1, T}=\lambda_{2}(\hat{L}_{T}-\hat{L}_{T-1})+(1-\lambda_{2})\hat{\beta}_{1, T-1},
   \]</div>
<p>donde <span class="math notranslate nohighlight">\(0&lt;\lambda_{2}&lt;1\)</span>. Como en el Paso 1, la estimación de <span class="math notranslate nohighlight">\(\beta_{1}\)</span> en la Ecuación <a class="reference internal" href="#equation-beta1t-additive-seasonal-model">(27)</a> puede verse como la combinación lineal del actual valor de <span class="math notranslate nohighlight">\(\beta_{1}\)</span> y su pronóstico an el tiempo <span class="math notranslate nohighlight">\(T-1\)</span>.</p>
</li>
</ol>
<ol class="arabic" start="3">
<li><p>Actualizar la estimación de <span class="math notranslate nohighlight">\(S_{t}\)</span> usando</p>
<div class="math notranslate nohighlight" id="equation-seasonal-forecast-additive-model">
<span class="eqno">(28)<a class="headerlink" href="#equation-seasonal-forecast-additive-model" title="Link to this equation">#</a></span>\[
   \hat{S}_{T}=\lambda_{3}(y_{T}-\hat{L}_{T})+(1-\lambda_{3})\hat{S}_{T-s},
   \]</div>
<p>donde <span class="math notranslate nohighlight">\(0&lt;\lambda_{3}&lt;1\)</span>.</p>
</li>
</ol>
<ol class="arabic" start="4">
<li><p>Finalmente, el pronóstico <span class="math notranslate nohighlight">\(\tau\)</span> pasos hacia adelante, <span class="math notranslate nohighlight">\(\hat{y}_{T+\tau}(T)\)</span>, es</p>
<div class="math notranslate nohighlight">
\[
   \hat{y}_{T+\tau}(T)=\hat{L}_{T}+\hat{\beta}_{1, T}\tau+\hat{S}_{T}(\tau-s).
   \]</div>
</li>
</ol>
<ul>
<li><p>Estimar los valores iniciales de una suavización exponencial es crucial. Para un conjunto dado de datos históricos con <span class="math notranslate nohighlight">\(n\)</span> estaciones (<span class="math notranslate nohighlight">\(ns\)</span> observaciones), podemos usar las estimaciones de mínimos cuadrados del siguiente modelo:</p>
<div class="math notranslate nohighlight" id="equation-ols-estimation-additive-model">
<span class="eqno">(29)<a class="headerlink" href="#equation-ols-estimation-additive-model" title="Link to this equation">#</a></span>\[
  y_{t}=\beta_{0}+\beta_{1}t+\sum_{i=1}^{s-1}\gamma_{i}(I_{t, i}-I_{t, s})+\varepsilon_{t},
  \]</div>
<p>donde</p>
<div class="math notranslate nohighlight">
\[\begin{split}
  I_{t, i}=
  \begin{cases}
  1, &amp; t=i, i+s, i+2s, \dots\\
  0, &amp; \text{en otro caso}.
  \end{cases}
  \end{split}\]</div>
</li>
</ul>
<ul class="simple">
<li><p>Las estimaciones de mínimos cuadrados de los parámetros de la Ecuación <a class="reference internal" href="#equation-ols-estimation-additive-model">(29)</a> se utilizan para obtener los valores iniciales como</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\hat{\beta}_{0, 0} &amp;= \hat{L}_{0}=\hat{\beta}_{0}\\
\hat{\beta}_{1, 0} &amp;= \hat{\beta}_{1}\\
\hat{S}_{j-s} &amp;= \hat{Y}_{j},~\text{para}~ 1\leq j\leq s-1\\
\hat{S}_{0} &amp;= -\sum_{j=1}^{s-1}\hat{y}_{j}.
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Estos son valores iniciales de los parámetros del modelo en el origen original de tiempo, <span class="math notranslate nohighlight">\(t = 0\)</span>. Para realizar pronósticos desde el origen correcto de tiempo, la componente permanente debe trasladarse al tiempo <span class="math notranslate nohighlight">\(T\)</span> calculando <span class="math notranslate nohighlight">\(\hat{L}_{T}=\hat{L}_{0}+ns\hat{\beta}_{1}\)</span>. Alternativamente, se podrían suavizar los parámetros usando las Ecuaciones <a class="reference internal" href="#equation-lt-estimation">(26)</a>-<a class="reference internal" href="#equation-seasonal-forecast-additive-model">(28)</a> para periodos de tiempo <span class="math notranslate nohighlight">\(t = 1, 2,\dots, T\)</span>.</p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<ul class="simple">
<li><p>Intervalos de predicción como en el caso del suavizado no estacional, requerirían <code class="docutils literal notranslate"><span class="pre">estimación</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">varianza</span> <span class="pre">del</span> <span class="pre">error</span> <span class="pre">de</span> <span class="pre">predicción</span></code>. El enfoque más común es utilizar la <code class="docutils literal notranslate"><span class="pre">relación</span> <span class="pre">entre</span> <span class="pre">las</span> <span class="pre">técnicas</span> <span class="pre">de</span> <span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">y</span> <span class="pre">modelos</span> <span class="pre">ARIMA</span></code> que abordaremos en el siguiente capítulo, y estimar la variación del error de predicción acordemente.</p></li>
</ul>
</div>
</section>
<section id="modelo-estacional-multiplicativo">
<h3>Modelo estacional multiplicativo<a class="headerlink" href="#modelo-estacional-multiplicativo" title="Link to this heading">#</a></h3>
<ul>
<li><p>Si la amplitud del patrón estacional es proporcional al nivel medio de la serie temporal estacional, el siguiente modelo estacional multiplicativo será el más adecuado</p>
<div class="math notranslate nohighlight" id="equation-multiplicative-stational-model">
<span class="eqno">(30)<a class="headerlink" href="#equation-multiplicative-stational-model" title="Link to this equation">#</a></span>\[
  y_{t}=L_{t}S_{t}+\varepsilon_{t},
  \]</div>
<p>donde <span class="math notranslate nohighlight">\(L_{t}\)</span> una vez más representa la componente permanente (i.e. <span class="math notranslate nohighlight">\(\beta_{0}+\beta_{1}t\)</span>); <span class="math notranslate nohighlight">\(S_{t}\)</span> representa el ajuste estacional con <span class="math notranslate nohighlight">\(S_{t}=S_{t+s}=S_{t+2s}=\cdots\)</span> para <span class="math notranslate nohighlight">\(t=1,2,\dots, s-1\)</span>, donde <span class="math notranslate nohighlight">\(s\)</span> es la longitud del periodo de los ciclos; y <span class="math notranslate nohighlight">\(\varepsilon_{t}\)</span> se supone no correlacionado con media 0 y varianza constante <span class="math notranslate nohighlight">\(\sigma_{\varepsilon}^{2}\)</span>.</p>
</li>
<li><p>La restricción para los ajustes estacionales en este caso se convierte en</p>
<div class="math notranslate nohighlight">
\[
  \sum_{t}^{s}S_{t}=s.
  \]</div>
</li>
</ul>
<ul class="simple">
<li><p>Como en el modelo aditivo, emplearemos tres suavizadores exponenciales para estimar los parámetros en la Ecuación <a class="reference internal" href="#equation-multiplicative-stational-model">(30)</a></p></li>
</ul>
<ol class="arabic">
<li><p>Actualizar el estimador de <span class="math notranslate nohighlight">\(L_{T}\)</span> usando</p>
<div class="math notranslate nohighlight">
\[
   \hat{L}_{T}=\lambda_{1}\frac{y_{T}}{\hat{S}_{T-s}}+(1-\lambda_{1})(\hat{L}_{T-1}+\hat{\beta}_{1, T-1}), 
   \]</div>
<p>donde <span class="math notranslate nohighlight">\(0&lt;\lambda_{1}&lt;1\)</span>.</p>
</li>
</ol>
<ol class="arabic" start="2">
<li><p>Actualizar el estimador de <span class="math notranslate nohighlight">\(\beta_{1}\)</span> utilizando</p>
<div class="math notranslate nohighlight">
\[
   \hat{\beta}_{1, T}=\lambda_{2}(\hat{L}_{T}-\hat{L}_{T-1})+(1-\lambda_{2})\hat{\beta}_{1, T-1},
   \]</div>
<p>donde <span class="math notranslate nohighlight">\(0&lt;\lambda&lt;1\)</span>.</p>
</li>
</ol>
<ol class="arabic" start="3">
<li><p>Actualizar la estimación de <span class="math notranslate nohighlight">\(S_{t}\)</span> usando</p>
<div class="math notranslate nohighlight">
\[
   \hat{S}_{T}=\lambda_{3}\frac{y_{T}}{\hat{L}_{T}}+(1-\lambda_{3})\hat{S}_{T-s},
   \]</div>
<p>donde <span class="math notranslate nohighlight">\(0&lt;\lambda_{3}&lt;1\)</span>.</p>
</li>
</ol>
<ol class="arabic simple" start="4">
<li><p>El pronóstico <span class="math notranslate nohighlight">\(\tau\)</span> pasos hacia adelante, <span class="math notranslate nohighlight">\(\hat{y}_{T+\tau}(T)\)</span>, es
$<span class="math notranslate nohighlight">\(
\hat{y}_{T+\tau}(T)=(\hat{L}_{T}+\hat{\beta}_{1, T}\tau)\hat{S}_{T}(\tau-s).
\)</span>$</p></li>
</ol>
<ul>
<li><p>Supongamos que un registro que consta de <span class="math notranslate nohighlight">\(n\)</span> estaciones de datos es disponible. De este conjunto de datos históricos, los valores iniciales, <span class="math notranslate nohighlight">\(\hat{\beta}_{0, 0}, \hat{\beta}_{1, 0}\)</span> y <span class="math notranslate nohighlight">\(\hat{S}_{0}\)</span>, se puede calcular como</p>
<div class="math notranslate nohighlight">
\[
  \hat{\beta}_{0, 0}=\hat{L}_{0}=\frac{\overline{y}_{n}-\overline{y}_{1}}{(n-1)s},
  \]</div>
<p>donde</p>
<div class="math notranslate nohighlight">
\[
  \overline{y}_{i}=\frac{1}{s}\sum_{t=(i-1)s+1}^{is}y_{t}
  \]</div>
<p>y</p>
<div class="math notranslate nohighlight">
\[\begin{split}
  \begin{align*}
  \hat{\beta}_{1, 0} &amp;= \overline{y}_{1}-\frac{s}{2}\hat{\beta}_{0, 0}\\
  \hat{S}_{j-s} &amp;= s\frac{\hat{S}_{j}^{\star}}{\sum_{i=1}^{s}\hat{S}_{i}^{\star}}~\text{para}~1\leq j\leq s, 
  \end{align*}
  \end{split}\]</div>
<p>donde</p>
<div class="math notranslate nohighlight">
\[
  \hat{S}_{j}^{\star}=\frac{1}{n}\sum_{t=1}^{n}\frac{y_{(t-1)s+j}}{\overline{y}_{t}-((s+1)/2-j)\hat{\beta}_{0}}.
  \]</div>
<p>Para más detalles ver <span id="id6">[<a class="reference internal" href="biblio.html#id5" title="D.C. Montgomery, L.A. Johnson, and J.S. Gardiner. Forecasting and Time Series Analysis. Industrial engineering series. McGraw-Hill, 1990. ISBN 9780070428584. URL: https://books.google.com.co/books?id=t9HuAAAAMAAJ.">Montgomery <em>et al.</em>, 1990</a>]</span> y <span id="id7">[<a class="reference internal" href="biblio.html#id9" title="B. Abraham and J. Ledolter. Statistical Methods for Forecasting. Wiley Series in Probability and Statistics. Wiley, 2009. ISBN 9780470317297. URL: https://books.google.com.co/books?id=WIPxdb2P8sAC.">Abraham and Ledolter, 2009</a>]</span>.</p>
</li>
</ul>
</section>
</section>
<section id="implementacion">
<h2>Implementación<a class="headerlink" href="#implementacion" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>La eficacia de la extracción de la tendencia y ruido estimados depende de otros parámetros relacionados con la composición de la señal de la serie temporal, como la presencia de <code class="docutils literal notranslate"><span class="pre">tendencia,</span> <span class="pre">estacionalidad</span> <span class="pre">y</span> <span class="pre">residual</span> <span class="pre">(ruido)</span></code>. Para tratar cada uno de estos componentes de las series temporales, se requieren diferentes tratamientos. En este capítulo se tratarán <code class="docutils literal notranslate"><span class="pre">múltiples</span> <span class="pre">enfoques</span> <span class="pre">de</span> <span class="pre">suavización</span> <span class="pre">para</span> <span class="pre">manejar</span> <span class="pre">los</span> <span class="pre">diferentes</span> <span class="pre">componentes</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">señal</span></code> de la serie temporal.</p></li>
</ul>
<ul class="simple">
<li><p>Un ejemplo de una señal de serie temporal compuesta por <code class="docutils literal notranslate"><span class="pre">tendencia,</span> <span class="pre">estacionalidad</span> <span class="pre">y</span> <span class="pre">ruido</span> <span class="pre">blanco</span></code>, es el conjunto de datos de <code class="docutils literal notranslate"><span class="pre">nacimientos</span> <span class="pre">mensuales</span> <span class="pre">en</span> <span class="pre">Nueva</span> <span class="pre">York</span> <span class="pre">desde</span> <span class="pre">enero</span> <span class="pre">de</span> <span class="pre">1946</span> <span class="pre">hasta</span> <span class="pre">diciembre</span> <span class="pre">de</span> <span class="pre">1959</span></code>:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">pmdarima</span> <span class="kn">import</span> <span class="n">arima</span>
<span class="kn">from</span> <span class="nn">pmdarima</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">pmdarima</span> <span class="kn">import</span> <span class="n">utils</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fopen</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://robjhyndman.com/tsdldata/data/nybirths.dat&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>
<span class="n">ds</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">fopen</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)),</span>  <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;birthcount&#39;</span><span class="p">])</span>
<span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>birthcount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>403 - Forbidden | Access to this page is forbi...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">date</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;1946-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1959-12-31&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;1M&quot;</span><span class="p">)</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>birthcount</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1946-01-31</th>
      <td>403 - Forbidden | Access to this page is forbi...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">birthcount</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/703cbdee213ac2f06592e33d9e79d0507d8040aaeee5034b848fa50627d3e2ed.png" src="_images/703cbdee213ac2f06592e33d9e79d0507d8040aaeee5034b848fa50627d3e2ed.png" />
</div>
</div>
<ul class="simple">
<li><p>Observar el cambio en la <code class="docutils literal notranslate"><span class="pre">magnitud</span> <span class="pre">de</span> <span class="pre">las</span> <span class="pre">fluctuaciones</span></code> de manera visual, suele ser una tarea tediosa para ciertas series de tiempo. Por lo tanto, utilizaremos técnicas basadas en el cálculo del término (<span class="math notranslate nohighlight">\(s_{t}+\varepsilon_{t}\)</span>) o factor (<span class="math notranslate nohighlight">\(s_{t}\times\varepsilon_{t}\)</span>) y su respectiva visualización. Si la magnitud de las fluctuaciones obtenidas son similares entonces concluimos que la serie de tiempo es aditiva o multiplicativa según sea el caso. <code class="docutils literal notranslate"><span class="pre">Es</span> <span class="pre">un</span> <span class="pre">buen</span> <span class="pre">ejercicio</span> <span class="pre">para</span> <span class="pre">el</span> <span class="pre">estudiante</span> <span class="pre">calcular</span> <span class="pre">la</span> <span class="pre">magnitud</span> <span class="pre">de</span> <span class="pre">dichas</span> <span class="pre">fluctuaciones</span> <span class="pre">y</span> <span class="pre">visualizarlas</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">figure_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;figsize&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># decomposed = arima.decompose(ds.birthcount.values, &#39;multiplicative&#39;, m=12)</span>
<span class="c1"># axes = utils.decomposed_plot(decomposed, figure_kwargs=figure_kwargs, show=False)</span>
<span class="c1"># axes[0].set_title(&quot;Seasonal Multiplicative Decomposition&quot;);</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Las diferentes funciones del código se utilizan como sigue:</p>
<ul>
<li><p>La función <code class="docutils literal notranslate"><span class="pre">requests.get</span></code> del script anterior se utiliza para obtener los datos del url <code class="docutils literal notranslate"><span class="pre">DATA_URL</span></code>.</p></li>
<li><p>Para manejar el conjunto de datos, se utiliza un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> de <code class="docutils literal notranslate"><span class="pre">pandas</span></code>.</p></li>
</ul>
</li>
<li><p>La función <code class="docutils literal notranslate"><span class="pre">seasonal_decompose</span></code> del módulo <code class="docutils literal notranslate"><span class="pre">stats</span> <span class="pre">models</span></code> se utiliza para <code class="docutils literal notranslate"><span class="pre">descomponer</span> <span class="pre">la</span> <span class="pre">señal</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">en</span> <span class="pre">componentes</span> <span class="pre">de</span> <span class="pre">tendencia,</span> <span class="pre">estacionalidad</span> <span class="pre">y</span> <span class="pre">residual</span></code>. La descomposición puede ser <code class="docutils literal notranslate"><span class="pre">aditiva</span> <span class="pre">o</span> <span class="pre">multiplicativa</span></code>. Un ejemplo de las diferentes componentes de una señal se muestra en el siguiente script</p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<p>Normalmente, podemos identificar una serie temporal <code class="docutils literal notranslate"><span class="pre">aditiva</span></code></p>
<div class="math notranslate nohighlight">
\[y_{t}=f_{t}+s_{t}+\varepsilon_{t}\]</div>
<p>o <code class="docutils literal notranslate"><span class="pre">multiplicativa</span></code></p>
<div class="math notranslate nohighlight">
\[y_{t}=f_{t}\times s_{t}\times\varepsilon_{t}\]</div>
<p>a partir de su variación. <code class="docutils literal notranslate"><span class="pre">Si</span> <span class="pre">la</span> <span class="pre">magnitud</span> <span class="pre">del</span> <span class="pre">componente</span> <span class="pre">estacional</span> <span class="pre">cambia</span> <span class="pre">con</span> <span class="pre">el</span> <span class="pre">tiempo,</span> <span class="pre">la</span> <span class="pre">serie</span> <span class="pre">es</span> <span class="pre">multiplicativa</span></code>. En caso contrario, la serie es aditiva.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dates_airpass</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1949-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">()),</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span>
<span class="n">air_pass_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="n">dates_airpass</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
                            <span class="s1">&#39;Passengers&#39;</span><span class="p">:</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()})</span>
<span class="n">air_pass_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Passengers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1949-01</td>
      <td>112.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1949-02</td>
      <td>118.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1949-03</td>
      <td>132.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1949-04</td>
      <td>129.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1949-05</td>
      <td>121.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">beer_aust</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;datasets/quarterly-beer-production-in-aus-March 1956-June 1994.csv&#39;</span><span class="p">)</span>
<span class="n">beer_aust</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Quarterly beer production in Australia: megalitres. March 1956 ? June 1994&quot;</span><span class="p">:</span> <span class="s2">&quot;beer_prod&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">beer_aust</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Quarter</th>
      <th>beer_prod</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1956Q1</td>
      <td>284.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1956Q2</td>
      <td>212.8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1956Q3</td>
      <td>226.9</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1956Q4</td>
      <td>308.4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1957Q1</td>
      <td>262.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">decomposed</span> <span class="o">=</span> <span class="n">arima</span><span class="o">.</span><span class="n">decompose</span><span class="p">(</span><span class="n">beer_aust</span><span class="o">.</span><span class="n">beer_prod</span><span class="p">,</span> <span class="s1">&#39;additive&#39;</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">decomposed_plot</span><span class="p">(</span><span class="n">decomposed</span><span class="p">,</span> <span class="n">figure_kwargs</span><span class="o">=</span><span class="n">figure_kwargs</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Ausbeer Seasonal Additive Decomposition&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a09f3081540ae84cafac289a52d323beabb25e9b6a94e7de6b85786ba1a7d408.png" src="_images/a09f3081540ae84cafac289a52d323beabb25e9b6a94e7de6b85786ba1a7d408.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">decomposed</span> <span class="o">=</span> <span class="n">arima</span><span class="o">.</span><span class="n">decompose</span><span class="p">(</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">(),</span> <span class="s1">&#39;multiplicative&#39;</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">decomposed_plot</span><span class="p">(</span><span class="n">decomposed</span><span class="p">,</span> <span class="n">figure_kwargs</span><span class="o">=</span><span class="n">figure_kwargs</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Airpassengers Seasonal Multiplicative Decomposition&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0f8b04456cb311645130a39c54952aba8a295d419be101fe46fcdd3b89a1b5cf.png" src="_images/0f8b04456cb311645130a39c54952aba8a295d419be101fe46fcdd3b89a1b5cf.png" />
</div>
</div>
<ul class="simple">
<li><p>Las propiedades de estacionalidad aditiva y multiplicativa, se pueden estimar de manera experimental de la siguiente forma: <code class="docutils literal notranslate"><span class="pre">si</span> <span class="pre">la</span> <span class="pre">estacionalidad</span> <span class="pre">es</span> <span class="pre">aditiva,</span> <span class="pre">entonces</span> <span class="pre">el</span> <span class="pre">resultado</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">resta</span> <span class="pre">entre</span> <span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">origina</span> <span class="pre">y</span> <span class="pre">su</span> <span class="pre">media</span> <span class="pre">movil</span> <span class="pre">tendrá</span> <span class="pre">fluctuaciones</span> <span class="pre">casi</span> <span class="pre">similares</span> <span class="pre">en</span> <span class="pre">magnitud.</span> <span class="pre">Si</span> <span class="pre">es</span> <span class="pre">multiplicativa,</span> <span class="pre">entonces</span> <span class="pre">el</span> <span class="pre">resultado</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">división</span> <span class="pre">tiene</span> <span class="pre">esta</span> <span class="pre">propiedad</span></code>. Veamos esto en el siguiente ejemplo</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">movingaverage</span><span class="p">(</span><span class="n">interval</span><span class="p">,</span> <span class="n">window_size</span><span class="p">):</span>
    <span class="n">window</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">window_size</span><span class="p">))</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">window_size</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">interval</span><span class="p">,</span> <span class="n">window</span><span class="p">,</span> <span class="s1">&#39;same&#39;</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MA&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dates_airpassl</span> <span class="o">=</span> <span class="n">dates_airpass</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">,</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">,</span> <span class="n">movingaverage</span><span class="p">(</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">(),</span> <span class="mi">12</span><span class="p">));</span>
<span class="n">freq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Passengers&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/47f006ebc4258b9865df6b7fa79a2018ba7e8a9733d194e85b6f5eb41a531519.png" src="_images/47f006ebc4258b9865df6b7fa79a2018ba7e8a9733d194e85b6f5eb41a531519.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">,</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">()</span><span class="o">/</span><span class="n">movingaverage</span><span class="p">(</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">(),</span> <span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">MA</span><span class="o">.</span><span class="n">values</span><span class="p">);</span>
<span class="n">freq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Residual&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1c49b7eff3aa6028536e9be5d712bbd2d0310ba04d06bcb4312c10f46cd4c915.png" src="_images/1c49b7eff3aa6028536e9be5d712bbd2d0310ba04d06bcb4312c10f46cd4c915.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dates_beerpl</span> <span class="o">=</span> <span class="n">beer_aust</span><span class="o">.</span><span class="n">Quarter</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates_beerpl</span><span class="p">,</span> <span class="n">beer_aust</span><span class="o">.</span><span class="n">beer_prod</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">movingaverage</span><span class="p">(</span><span class="n">beer_aust</span><span class="o">.</span><span class="n">beer_prod</span><span class="p">,</span> <span class="mi">4</span><span class="p">));</span>
<span class="n">freq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">dates_beerpl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">dates_beerpl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Beer Production&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2e65ae113507936d647449cce0398f14b0b0b997ad3e6e033243ac688977f23b.png" src="_images/2e65ae113507936d647449cce0398f14b0b0b997ad3e6e033243ac688977f23b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates_beerpl</span><span class="p">,</span> <span class="n">beer_aust</span><span class="o">.</span><span class="n">beer_prod</span><span class="o">-</span><span class="n">movingaverage</span><span class="p">(</span><span class="n">beer_aust</span><span class="o">.</span><span class="n">beer_prod</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">MA</span><span class="o">.</span><span class="n">values</span><span class="p">);</span>
<span class="n">freq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">dates_beerpl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">dates_beerpl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Residual&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/eb2d15f1ac9b8e6752a523a5721b44c72ffdbc149a39f3a42e3ee964c0f81cfc.png" src="_images/eb2d15f1ac9b8e6752a523a5721b44c72ffdbc149a39f3a42e3ee964c0f81cfc.png" />
</div>
</div>
<ul class="simple">
<li><p>Nótese que si calculamos el <code class="docutils literal notranslate"><span class="pre">residuo</span> <span class="pre">para</span> <span class="pre">una</span> <span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">con</span> <span class="pre">estacionalidad</span> <span class="pre">multiplicativa</span></code>, la serie resultante contiene componentes estacionales cuya <code class="docutils literal notranslate"><span class="pre">varianza</span> <span class="pre">aumenta</span> <span class="pre">cada</span> <span class="pre">periodo</span> <span class="pre">de</span> <span class="pre">frecuencia</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">,</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">()</span><span class="o">-</span><span class="n">movingaverage</span><span class="p">(</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_airpassengers</span><span class="p">(),</span> <span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">MA</span><span class="o">.</span><span class="n">values</span><span class="p">);</span>
<span class="n">freq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">[::</span><span class="n">freq</span><span class="p">]);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Residual&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0ccd7154c5e60bb58153b1b9e859cd81e1e9ff43de4fb9c6bf64f11dd5099824.png" src="_images/0ccd7154c5e60bb58153b1b9e859cd81e1e9ff43de4fb9c6bf64f11dd5099824.png" />
</div>
</div>
<ul class="simple">
<li><p>Una alternativa para verificar estacionalidad sin usar visualziaciones, es utilizar una <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">no</span> <span class="pre">paramétrica</span></code> (ver <a class="reference external" href="https://jdemetradocumentation.github.io/JDemetra-documentation/pages/theory/Tests_KW.html">Kruskal-Wallis test</a>). Este test comprueba la <code class="docutils literal notranslate"><span class="pre">correlación</span> <span class="pre">entre</span> <span class="pre">la</span> <span class="pre">observación</span> <span class="pre">real</span> <span class="pre">y</span> <span class="pre">la</span> <span class="pre">observación</span> <span class="pre">retardada</span></code>. <code class="docutils literal notranslate"><span class="pre">Si</span> <span class="pre">las</span> <span class="pre">observaciones</span> <span class="pre">son</span> <span class="pre">independientes</span> <span class="pre">entre</span> <span class="pre">sí,</span> <span class="pre">siguen</span> <span class="pre">una</span> <span class="pre">distribución</span></code> <span class="math notranslate nohighlight">\(\chi^2\)</span>. <code class="docutils literal notranslate"><span class="pre">Cuando</span> <span class="pre">se</span> <span class="pre">rechaza</span> <span class="pre">esta</span> <span class="pre">hipótesis,</span> <span class="pre">se</span> <span class="pre">confirma</span> <span class="pre">una</span> <span class="pre">autocorrelación</span> <span class="pre">significativa,</span> <span class="pre">que</span> <span class="pre">es</span> <span class="pre">señal</span> <span class="pre">de</span> <span class="pre">movimientos</span> <span class="pre">estacionales</span> <span class="pre">en</span> <span class="pre">la</span> <span class="pre">serie</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">kruskal</span>

<span class="k">def</span> <span class="nf">seasonality_test</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">period</span><span class="p">):</span>
        <span class="n">seasonal</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">series</span><span class="p">))</span> <span class="o">%</span> <span class="n">period</span>
        <span class="n">H_statistic</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">kruskal</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;=</span> <span class="mf">0.05</span><span class="p">:</span>
            <span class="n">seasonal</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">seasonal</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is the Air Passengers time series seasonal?:&quot;</span><span class="p">,</span> <span class="n">seasonality_test</span><span class="p">(</span><span class="n">dates_airpassl</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Is the Air Passengers time series seasonal?: True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Is the Beer production time series seasonal?:&quot;</span><span class="p">,</span> <span class="n">seasonality_test</span><span class="p">(</span><span class="n">beer_aust</span><span class="o">.</span><span class="n">beer_prod</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Is the Beer production time series seasonal?: True
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>La señal de la serie temporal anterior está compuesta por la tendencia, la estacionalidad y el residuo (ruido blanco). <code class="docutils literal notranslate"><span class="pre">El</span> <span class="pre">suavizado</span> <span class="pre">ayuda</span> <span class="pre">a</span> <span class="pre">eliminar</span> <span class="pre">el</span> <span class="pre">componente</span> <span class="pre">residual</span> <span class="pre">y</span> <span class="pre">capta</span> <span class="pre">los</span> <span class="pre">componentes</span> <span class="pre">de</span> <span class="pre">tendencia</span> <span class="pre">y</span> <span class="pre">estacionalidad</span> <span class="pre">para</span> <span class="pre">la</span> <span class="pre">predicción</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">señal</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">El</span> <span class="pre">primer</span> <span class="pre">paso</span> <span class="pre">del</span> <span class="pre">modelo</span> <span class="pre">para</span> <span class="pre">incluir</span> <span class="pre">la</span> <span class="pre">media,</span> <span class="pre">la</span> <span class="pre">tendencia</span> <span class="pre">y</span> <span class="pre">los</span> <span class="pre">patrones</span> <span class="pre">no</span> <span class="pre">estacionales</span> <span class="pre">es</span> <span class="pre">extrapolarla</span> <span class="pre">mediante</span> <span class="pre">la</span> <span class="pre">suavización</span></code>. La suavización básica mediante la media móvil se discutió en el capítulo anterior. El suavizado de media móvil evalúa las esperanzas <span class="math notranslate nohighlight">\(\textsf{E}(y_{t})\)</span> utilizando todas las observaciones anteriores, como sigue:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\hat{y}_{t}=\frac{1}{N}\sum_{i=1}^{T}y_{t-i}\]</div>
<ul class="simple">
<li><p>Por lo general, <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">media</span> <span class="pre">móvil</span> <span class="pre">simple</span> <span class="pre">se</span> <span class="pre">realiza</span> <span class="pre">sobre</span> <span class="pre">ventanas</span> <span class="pre">de</span> <span class="pre">predicción</span></code>; así, la predicción estimada se evalua en ventanas óptimas con el objetivo de minimizar la función de error</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\min\left(\sum_{i=1}^{T}(y_{t}-\hat{y}_{t})^{2}\right)=\min\sum_{i=1}^{T}\left(y_{t}-\frac{1}{N}\sum_{i=1}^{T}y_{t-i}\right)^{2}\]</div>
<ul class="simple">
<li><p>Los métodos de suavización se basan en el <code class="docutils literal notranslate"><span class="pre">supuesto</span> <span class="pre">de</span> <span class="pre">que</span> <span class="pre">los</span> <span class="pre">datos</span> <span class="pre">de</span> <span class="pre">las</span> <span class="pre">series</span> <span class="pre">temporales</span> <span class="pre">son</span> <span class="pre">localmente</span> <span class="pre">estacionarios</span> <span class="pre">con</span> <span class="pre">pequeñas</span> <span class="pre">variaciones</span> <span class="pre">en</span> <span class="pre">la</span> <span class="pre">media</span></code>. Así, podemos utilizar la media en el momento <span class="math notranslate nohighlight">\(t\)</span> para predecir en <span class="math notranslate nohighlight">\(t+1\)</span> cuando el <span class="math notranslate nohighlight">\(\Delta t\)</span> es lo suficientemente pequeño como para mantener la señal estacionaria. Este modelo es un compromiso entre la media y el modelo de paseo aleatorio sin desviación.</p></li>
<li><p>Los modelos también se denominan modelos de suavización, ya que <code class="docutils literal notranslate"><span class="pre">suavizan</span> <span class="pre">choques</span> <span class="pre">del</span> <span class="pre">conjunto</span> <span class="pre">de</span> <span class="pre">datos</span></code>. La principal limitación de estos métodos basados en la media móvil es que tratan todas las <span class="math notranslate nohighlight">\(n\)</span> muestras utilizadas en el suavizado dando mayor peso a las observaciones recientes, como se muestra en la siguiente ecuación:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\hat{y}_{t}=\frac{1}{N}\sum_{i=1}^{T}w_{i}y_{t-i}.\]</div>
<ul class="simple">
<li><p>Aquí <span class="math notranslate nohighlight">\(w_{1}&gt;w_{2}&gt;\cdots&gt;w_{T}\)</span> y <span class="math notranslate nohighlight">\(T\)</span> es la <code class="docutils literal notranslate"><span class="pre">longitud</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">ventana</span></code>. Esto supone otro reto para la evaluación de las ponderaciones. La limitación de la media móvil y la media móvil ponderada se aborda mediante la <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">aplicando</span> <span class="pre">ponderaciones</span> <span class="pre">con</span> <span class="pre">decaimiento</span> <span class="pre">exponencial</span> <span class="pre">en</span> <span class="pre">las</span> <span class="pre">observaciones</span></code>.</p></li>
</ul>
<ul class="simple">
<li><p>Tomemos ahora como ejemplo el <code class="docutils literal notranslate"><span class="pre">precio</span> <span class="pre">de</span> <span class="pre">cierre</span> <span class="pre">de</span> <span class="pre">las</span> <span class="pre">acciones</span> <span class="pre">de</span> <span class="pre">IBM</span></code> para pronosticarlo utilizando el método de suavizado simple. El primer paso es cargar los módulos necesarios</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ibm_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;datasets/ibm-common-stock-closing-prices.csv&#39;</span><span class="p">)</span>
<span class="n">ibm_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>IBM common stock closing prices</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1962-01-02</td>
      <td>572.00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1962-01-03</td>
      <td>577.00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1962-01-04</td>
      <td>571.25</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1962-01-05</td>
      <td>560.00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1962-01-08</td>
      <td>549.50</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>Por comodidad, cambiaremos el nombre de las columnas:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ibm_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;IBM common stock closing prices&#39;</span><span class="p">:</span> <span class="s1">&#39;Close_Price&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ibm_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Close_Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1962-01-02</td>
      <td>572.00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1962-01-03</td>
      <td>577.00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1962-01-04</td>
      <td>571.25</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1962-01-05</td>
      <td>560.00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1962-01-08</td>
      <td>549.50</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>En el método de <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">simple</span></code>, los valores predichos se generan como sigue usando Ec. <a class="reference internal" href="#equation-eq-simple-exp-smoothing3">(13)</a>. Esta serie se puede implementar en <code class="docutils literal notranslate"><span class="pre">Python</span></code> de la siguiente manera:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">single_exp_smoothing</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">alpha</span><span class="p">):</span>
    <span class="n">F</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
        <span class="n">F</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alpha</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">*</span> <span class="n">F</span><span class="p">[</span><span class="n">t</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">F</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>La función <code class="docutils literal notranslate"><span class="pre">single_exp_smoothing</span></code> configurada con el valor inicial previsto se asigna como el primer valor de la serie. Evaluemos primero los casos extremos de previsión con <span class="math notranslate nohighlight">\(α = 0\)</span> y <span class="math notranslate nohighlight">\(α = 1\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES0&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">single_exp_smoothing</span><span class="p">(</span><span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">single_exp_smoothing</span><span class="p">(</span><span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">axarr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>


<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Simple $\alpha=0$&#39;</span><span class="p">);</span>

<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Simple $\alpha=1$&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fcda07d3f4e717c2017b989e1e60d3655547a9f8f16705ec3cba46bb0665f961.png" src="_images/fcda07d3f4e717c2017b989e1e60d3655547a9f8f16705ec3cba46bb0665f961.png" />
</div>
</div>
<ul class="simple">
<li><p>La figura anterior ilustra que, para <span class="math notranslate nohighlight">\(\alpha=0\)</span>, la predicción es una constante, y para <span class="math notranslate nohighlight">\(\alpha=1\)</span>, la serie pronosticada se desplaza un desfase temporal. El pronóstico de alisamiento único para valores de suavización <span class="math notranslate nohighlight">\(0.2, 0.6, 0.8\)</span> puede evaluarse como sigue</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">single_exp_smoothing</span><span class="p">(</span><span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">],</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES6&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">single_exp_smoothing</span><span class="p">(</span><span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">],</span> <span class="mf">0.6</span><span class="p">)</span>
<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES8&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">single_exp_smoothing</span><span class="p">(</span><span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">],</span> <span class="mf">0.8</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">axarr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Simple $\alpha=0.2$&#39;</span><span class="p">);</span>

<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES6&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Simple $\alpha=0.6$&#39;</span><span class="p">);</span>

<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;Close_Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">ibm_df</span><span class="p">[</span><span class="s1">&#39;SES8&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Simple $\alpha=0.8$&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/97927f7fa43907687d141f1b3839b7fccd8d0b43befa0007cf0b85d48847f582.png" src="_images/97927f7fa43907687d141f1b3839b7fccd8d0b43befa0007cf0b85d48847f582.png" />
</div>
</div>
<ul class="simple">
<li><p>La figura anterior ilustra que <span class="math notranslate nohighlight">\(\alpha\)</span> tiene un gran impacto en la previsión; por lo tanto, obtener el valor correcto de <span class="math notranslate nohighlight">\(\alpha\)</span> es fundamental a la hora de establecer la previsión</p></li>
</ul>
<ul class="simple">
<li><p>La precisión del modelo puede evaluarse en una muestra retenida utilizando funciones objetivo estándar como el <code class="docutils literal notranslate"><span class="pre">error</span> <span class="pre">cuadrático</span> <span class="pre">medio</span> <span class="pre">(ECM)</span></code> o <code class="docutils literal notranslate"><span class="pre">el</span> <span class="pre">error</span> <span class="pre">absoluto</span> <span class="pre">medio</span> <span class="pre">(EAM)</span></code></p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\text{MSE}&amp;=\frac{1}{N}\sum_{i=1}^{N}(y_{t}-\tilde{y}_{t})^{2}\\
\text{MAD}&amp;=\frac{1}{N}\sum_{i=1}^{N}|y_{t}-\tilde{y}_{t}|
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Como el suavizado ayuda a reducir la varianza del conjunto de datos, reducirá la varianza de serie pronosticada entre cero y la varianza real del conjunto de datos</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\text{Var}(\tilde{y}_{T})&amp;=\text{Var}\left(\alpha\sum_{i=0}^{\infty}(1-\alpha)^{i}y_{T-i}\right)\\
&amp;=\frac{\alpha}{2-\alpha}\text{Var}(y_{T})
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Aquí, <span class="math notranslate nohighlight">\(T\)</span> es la longitud de la serie temporal. Para una varianza unitaria de la serie <span class="math notranslate nohighlight">\(y_{T}\)</span>, la varianza captada por la serie pronosticada variará en función del parámetro de suavización α</p></li>
</ul>
</section>
<section id="suavizacion-exponencial-de-segundo-orden">
<h2>Suavización exponencial de segundo orden<a class="headerlink" href="#suavizacion-exponencial-de-segundo-orden" title="Link to this heading">#</a></h2>
<ul>
<li><p>Si la suavización exponencial de primer orden no entrega la mejor bondad de ajuste, entonces <code class="docutils literal notranslate"><span class="pre">existe</span> <span class="pre">tendencia</span> <span class="pre">en</span> <span class="pre">los</span> <span class="pre">datos</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">serie</span> <span class="pre">temporal</span></code>. La tendencia se observa habitualmente en muchos ámbitos, como cuando en las empresas de comercio electrónico o de marketing existe un <code class="docutils literal notranslate"><span class="pre">aumento</span> <span class="pre">de</span> <span class="pre">las</span> <span class="pre">ventas</span></code> o cuando cualquier <code class="docutils literal notranslate"><span class="pre">buen</span> <span class="pre">rendimiento</span> <span class="pre">anual</span> <span class="pre">de</span> <span class="pre">una</span> <span class="pre">empresa</span> <span class="pre">tendrá</span> <span class="pre">un</span> <span class="pre">efecto</span> <span class="pre">alcista</span> <span class="pre">en</span> <span class="pre">el</span> <span class="pre">precio</span> <span class="pre">de</span> <span class="pre">sus</span> <span class="pre">acciones</span></code>. La <code class="docutils literal notranslate"><span class="pre">tendencia</span> <span class="pre">lineal</span></code> puede ocurrir entre el tiempo y la respuesta:</p>
<div class="math notranslate nohighlight">
\[
    y_{t}=\omega_{0}+\omega_{1}t+\varepsilon_{t}
    \]</div>
<p>donde, <span class="math notranslate nohighlight">\(\omega\)</span> es el coeficiente que conduce a la tendencia.</p>
</li>
<li><p>El <code class="docutils literal notranslate"><span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">de</span> <span class="pre">segundo</span> <span class="pre">orden</span></code> ayuda a <code class="docutils literal notranslate"><span class="pre">capturar</span> <span class="pre">la</span> <span class="pre">tendencia</span> <span class="pre">en</span> <span class="pre">los</span> <span class="pre">datos</span> <span class="pre">de</span> <span class="pre">serie</span> <span class="pre">temporal</span></code> incluyendo otro término en el suavizado exponencial de primer orden como sigue</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
F_{t+1}&amp;=\alpha y_{t}+(1-\alpha)(F_{t-1}+T_{t-1})\\
T_{t+1}&amp;=\beta(F_{t}-F_{t-1})+(1-\beta)T_{t-1}
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Aquí <span class="math notranslate nohighlight">\(\alpha\)</span> es el <code class="docutils literal notranslate"><span class="pre">factor</span> <span class="pre">de</span> <span class="pre">suavización</span></code> de los datos y <span class="math notranslate nohighlight">\(\beta\)</span> es el <code class="docutils literal notranslate"><span class="pre">factor</span> <span class="pre">de</span> <span class="pre">suavización</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">tendencia</span></code> con valores en el intervalo <span class="math notranslate nohighlight">\([0, 1]\)</span>. La predicción en el tiempo posterior <span class="math notranslate nohighlight">\(t+1\)</span> puede generarse como sigue</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\hat{y}_{t+1}=F_{t}+T_{t}
\]</div>
<ul>
<li><p>En la <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">de</span> <span class="pre">segundo</span> <span class="pre">orden</span></code>, el <code class="docutils literal notranslate"><span class="pre">valor</span> <span class="pre">inicial</span> <span class="pre">del</span> <span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code> puede asignarse de múltiples maneras:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
    \begin{align*}T_{1}&amp;=y_{2}-y_{1}\\
    T_{1}&amp;=(y_{n}-y_{1})/(n-1)
    \end{align*}
    \end{split}\]</div>
<p>donde, <span class="math notranslate nohighlight">\(n\)</span> es el número de observaciones.</p>
</li>
<li><p>Estudiemos un ejemplo donde usemos <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">de</span> <span class="pre">segundo</span> <span class="pre">orden</span></code>. Utilizaremos datos de <code class="docutils literal notranslate"><span class="pre">producción</span> <span class="pre">de</span> <span class="pre">cerveza</span></code> estudiados anteriormente</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">beer_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;datasets/quarterly-beer-production-in-aus-March 1956-June 1994.csv&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dimensión del dataframe:&#39;</span><span class="p">,</span> <span class="n">beer_df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="n">beer_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Quarterly beer production in Australia: megalitres. March 1956 ? June 1994&#39;</span><span class="p">:</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">},</span>
               <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
<span class="n">missing</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Quarter&#39;</span><span class="p">]))</span> <span class="o">|</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Número de filas con al menos un valor igual a cero:&#39;</span><span class="p">,</span> <span class="n">missing</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="n">beer_df</span> <span class="o">=</span> <span class="n">beer_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">missing</span><span class="p">,</span> <span class="p">:]</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dimensiones después de eliminar los valores perdidos:&#39;</span><span class="p">,</span> <span class="n">beer_df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">beer_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dimensión del dataframe: (154, 2)
Número de filas con al menos un valor igual a cero: 0
Dimensiones después de eliminar los valores perdidos: (154, 2)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Quarter</th>
      <th>Beer_Prod</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1956Q1</td>
      <td>284.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1956Q2</td>
      <td>212.8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1956Q3</td>
      <td>226.9</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1956Q4</td>
      <td>308.4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1957Q1</td>
      <td>262.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>Creamos la función para el <code class="docutils literal notranslate"><span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">doble</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">double_exp_smoothing</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">):</span>
    <span class="n">yhat</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="c1"># first value is same as series</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">t</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">F</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">F_n_1</span><span class="p">,</span> <span class="n">F</span> <span class="o">=</span> <span class="n">F</span><span class="p">,</span> <span class="n">alpha</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">alpha</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">F</span><span class="o">+</span><span class="n">T</span><span class="p">)</span>
        <span class="n">T</span><span class="o">=</span><span class="n">beta</span><span class="o">*</span><span class="p">(</span><span class="n">F</span><span class="o">-</span><span class="n">F_n_1</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">beta</span><span class="p">)</span><span class="o">*</span><span class="n">T</span>
        <span class="n">yhat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">F</span><span class="o">+</span><span class="n">T</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">yhat</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>La función anterior toma como entrada la serie temporal <code class="docutils literal notranslate"><span class="pre">x</span></code> con <code class="docutils literal notranslate"><span class="pre">alpha</span></code> y <code class="docutils literal notranslate"><span class="pre">beta</span></code>. La implementación anterior utiliza la <code class="docutils literal notranslate"><span class="pre">diferencia</span> <span class="pre">de</span> <span class="pre">las</span> <span class="pre">dos</span> <span class="pre">primeras</span> <span class="pre">ocurrencias</span> <span class="pre">para</span> <span class="pre">establecer</span> <span class="pre">el</span> <span class="pre">valor</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">tendencia</span> <span class="pre">inicial</span></code>. Vamos a evaluar el rendimiento en los casos límite, es decir, <code class="docutils literal notranslate"><span class="pre">(alpha,</span> <span class="pre">beta)</span></code><span class="math notranslate nohighlight">\(\in\{(0, 0), (0, 1), (1, 0), (1, 1)\}\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF00&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">double_exp_smoothing</span><span class="p">(</span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF01&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">double_exp_smoothing</span><span class="p">(</span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF10&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">double_exp_smoothing</span><span class="p">(</span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF11&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">double_exp_smoothing</span><span class="p">(</span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">axarr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF00&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Doble $\alpha=0,\,\beta=0$&#39;</span><span class="p">)</span>

<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Doble $\alpha=0,\,\beta=1$&#39;</span><span class="p">)</span>

<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF10&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Doble $\alpha=1,\,\beta=0$&#39;</span><span class="p">);</span>

<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF11&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Suavización Exponencial Doble $\alpha=1,\,\beta=1$&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1d96f2d108517baf227d493ed2e7795bde17fcaebc14cd6a4af3557f5787583a.png" src="_images/1d96f2d108517baf227d493ed2e7795bde17fcaebc14cd6a4af3557f5787583a.png" />
</div>
</div>
<ul class="simple">
<li><p>Cuando <code class="docutils literal notranslate"><span class="pre">alpha=0</span></code>, los <code class="docutils literal notranslate"><span class="pre">valores</span> <span class="pre">iniciales</span> <span class="pre">permanecen</span> <span class="pre">constantes</span></code>; por lo tanto, <code class="docutils literal notranslate"><span class="pre">el</span> <span class="pre">parámetro</span> <span class="pre">de</span> <span class="pre">tendencia</span> <span class="pre">no</span> <span class="pre">desempeña</span> <span class="pre">ningún</span> <span class="pre">papel</span></code>. Sin embargo, cuando <code class="docutils literal notranslate"><span class="pre">alpha</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">y</span> <span class="pre">beta</span> <span class="pre">=</span> <span class="pre">0</span></code>, la <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">de</span> <span class="pre">segundo</span> <span class="pre">orden</span></code> puede escribirse de la siguiente manera</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
F_{t}&amp;=y_{t-1}\\
T_{t}&amp;=T_{t-1}\\
\hat{y}_{t}&amp;=y_{t-1}+T_{t-1}
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">predicción</span> <span class="pre">en</span> <span class="pre">el</span> <span class="pre">tiempo</span></code> <span class="math notranslate nohighlight">\(t\)</span> <code class="docutils literal notranslate"><span class="pre">depende</span> <span class="pre">del</span> <span class="pre">valor</span> <span class="pre">anterior</span> <span class="pre">y</span> <span class="pre">de</span> <span class="pre">los</span> <span class="pre">componentes</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>. Como <code class="docutils literal notranslate"><span class="pre">beta</span> <span class="pre">se</span> <span class="pre">fija</span> <span class="pre">en</span> <span class="pre">cero</span></code>, el componente de tendencia en <span class="math notranslate nohighlight">\(t-1\)</span> dependerá de <span class="math notranslate nohighlight">\(t-2\)</span>, el de <span class="math notranslate nohighlight">\(t-2\)</span> de <span class="math notranslate nohighlight">\(t-3\)</span> y así sucesivamente</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
T_{t}=T_{t-1}=T_{t-2}=T_{t-3}=\cdots=T_{0}
\]</div>
<ul class="simple">
<li><p>Así, <code class="docutils literal notranslate"><span class="pre">el</span> <span class="pre">valor</span> <span class="pre">del</span> <span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span> <span class="pre">depende</span> <span class="pre">del</span> <span class="pre">valor</span> <span class="pre">inicial</span> <span class="pre">asignado</span> <span class="pre">y</span> <span class="pre">es</span> <span class="pre">una</span> <span class="pre">constante</span></code>. Del mismo modo, para <code class="docutils literal notranslate"><span class="pre">alpha</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">y</span> <span class="pre">beta</span> <span class="pre">=</span> <span class="pre">1</span></code>, la <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">de</span> <span class="pre">segundo</span> <span class="pre">orden</span></code> puede simplificarse como sigue</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
F_{t}&amp;=y_{t-1}\\
T_{t}&amp;=(F_{t-1}-F_{t-2})=y_{t-2}-y_{t-3}\\
\hat{y}_{t}&amp;=y_{t-1}+(y_{t-2}-y_{t-3})
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>Con <code class="docutils literal notranslate"><span class="pre">alpha</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">y</span> <span class="pre">beta</span> <span class="pre">=</span> <span class="pre">1</span></code>, la diferencia de las observaciones en los tiempos <span class="math notranslate nohighlight">\(t-2\)</span> y <span class="math notranslate nohighlight">\(t-3\)</span> se añaden al valor de predicción en el tiempo <span class="math notranslate nohighlight">\(t\)</span> en comparación con la configuración de <code class="docutils literal notranslate"><span class="pre">alpha</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">y</span> <span class="pre">beta</span> <span class="pre">=</span> <span class="pre">0</span></code>, que da el desplazamiento a la predicción y <code class="docutils literal notranslate"><span class="pre">se</span> <span class="pre">acerca</span> <span class="pre">más</span> <span class="pre">a</span> <span class="pre">la</span> <span class="pre">previsión</span> <span class="pre">real</span></code></p></li>
<li><p>Realizamos a continuación un <code class="docutils literal notranslate"><span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">doble</span></code> con los datos de producción de cerveza <code class="docutils literal notranslate"><span class="pre">utilizando</span> <span class="pre">valores</span> <span class="pre">intermedios</span> <span class="pre">de</span> <span class="pre">alpha</span> <span class="pre">y</span> <span class="pre">beta</span></code> de la siguiente manera</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">double_exp_smoothing</span><span class="p">(</span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">],</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Single_Exponential_Forecast&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">single_exp_smoothing</span><span class="p">(</span><span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">],</span> <span class="mf">0.4</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Beer_Prod&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Beer Prod.&#39;</span><span class="p">)</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;DEF&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;DES $\alpha=0.4,\,\beta=0.7$&#39;</span><span class="p">)</span>
<span class="n">beer_df</span><span class="p">[</span><span class="s1">&#39;Single_Exponential_Forecast&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-.&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;SES $\alpha=0.4$&#39;</span><span class="p">)</span>
<span class="n">leg</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f1e00867785b9cadfd41ec89a1a48886ade99f3c6d393166b394332434b5fc00.png" src="_images/f1e00867785b9cadfd41ec89a1a48886ade99f3c6d393166b394332434b5fc00.png" />
</div>
</div>
<ul class="simple">
<li><p>La figura anterior muestra que <code class="docutils literal notranslate"><span class="pre">el</span> <span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">doble</span> <span class="pre">es</span> <span class="pre">capaz</span> <span class="pre">de</span> <span class="pre">capturar</span> <span class="pre">mejor</span> <span class="pre">la</span> <span class="pre">variación</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">señal</span> <span class="pre">real</span> <span class="pre">para</span> <span class="pre">el</span> <span class="pre">conjunto</span> <span class="pre">de</span> <span class="pre">datos</span> <span class="pre">actual</span> <span class="pre">en</span> <span class="pre">comparación</span> <span class="pre">con</span> <span class="pre">el</span> <span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">simple</span></code>. Sin embargo, en los escenarios en los que el componente de tendencia tienden a cero, el rendimiento del suavizado exponencial simple y doble es comparable.</p></li>
</ul>
</section>
<section id="suavizacion-exponencial-de-orden-superior">
<h2>Suavización exponencial de orden superior<a class="headerlink" href="#suavizacion-exponencial-de-orden-superior" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>El concepto puede extenderse a la <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">de</span> <span class="pre">orden</span> <span class="pre">superior</span></code> con un modelo polinómico de <span class="math notranslate nohighlight">\(n^{\text{th}}\)</span> orden</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
y_{t}=\alpha_{0}+\alpha_{1}t+\frac{\alpha_{2}}{2!}t^{2}+\cdots+\frac{\alpha_{n}}{n!}t^{n}+\varepsilon_{t}
\]</div>
<ul class="simple">
<li><p>Aquí, el error <span class="math notranslate nohighlight">\(\varepsilon_{t}\sim N(0,\sigma^{2})\)</span> se distribuye normalmente con media <span class="math notranslate nohighlight">\(0\)</span> y varianza <span class="math notranslate nohighlight">\(\sigma^{2}\)</span>. Los suavizadores exponenciales utilizados para el orden superior son los siguientes</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\tilde{x}_{t}^{(1)}&amp;=k y_{t}+(1-k)\tilde{x}_{t-1}^{(1)}\\
\tilde{x}_{t}^{(2)}&amp;=k \tilde{x}_{t}^{(1)}+(1-k)\tilde{x}_{t-1}^{(2)}\\
&amp;\vdots\\
\tilde{x}_{t}^{(n)}&amp;=k \tilde{x}_{t}^{(n-1)}+(1-k)\tilde{x}_{t-1}^{(n)}
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>En este caso, se trata de pesos para los suavizadores. <code class="docutils literal notranslate"><span class="pre">Normalmente,</span> <span class="pre">la</span> <span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">de</span> <span class="pre">orden</span> <span class="pre">superior</span> <span class="pre">no</span> <span class="pre">se</span> <span class="pre">utiliza,</span> <span class="pre">el</span> <span class="pre">cálculo</span> <span class="pre">es</span> <span class="pre">muy</span> <span class="pre">difícil</span></code>, mas bien, se utilizan modelos <code class="docutils literal notranslate"><span class="pre">Autorregrsivos</span> <span class="pre">Integrados</span> <span class="pre">de</span> <span class="pre">Media</span> <span class="pre">Movil(ARIMA)</span></code> los cuales se tratarán con más detalle en la siguiente sección.</p></li>
</ul>
<ul class="simple">
<li><p>Otro suavizado exponencial muy popular es el <code class="docutils literal notranslate"><span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">triple</span>&#160; <span class="pre">(Holt</span> <span class="pre">Winters)</span></code>. El <code class="docutils literal notranslate"><span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">triple</span></code> permite capturar la <code class="docutils literal notranslate"><span class="pre">estacionalidad</span> <span class="pre">con</span> <span class="pre">el</span> <span class="pre">nivel</span> <span class="pre">(valor</span> <span class="pre">suavizado</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">parte</span> <span class="pre">constante</span> <span class="pre">en</span> <span class="pre">el</span> <span class="pre">tiempo)</span> <span class="pre">y</span> <span class="pre">la</span> <span class="pre">tendencia</span></code>. La relación entre: <code class="docutils literal notranslate"><span class="pre">niveles,</span> <span class="pre">tendencias</span> <span class="pre">y</span> <span class="pre">la</span> <span class="pre">estacionalidad</span></code> se define mediante el siguiente conjunto de ecuaciones</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\begin{align*}
F_{t}&amp;=\alpha(y_{t}-S_{t-L})+(1-\alpha)(F_{t-1}+T_{t-1})
\end{align*}
\]</div>
<ul class="simple">
<li><p>En estas ecuaciones, <span class="math notranslate nohighlight">\(F_{t}\)</span> <code class="docutils literal notranslate"><span class="pre">capta</span> <span class="pre">los</span> <span class="pre">niveles</span> <span class="pre">de</span> <span class="pre">observación</span> </code> en el momento <span class="math notranslate nohighlight">\(t\)</span>. Asimismo, <span class="math notranslate nohighlight">\(T_{t}\)</span> y <span class="math notranslate nohighlight">\(S_{t}\)</span> capturan <code class="docutils literal notranslate"><span class="pre">tendencia</span> <span class="pre">y</span> <span class="pre">estacionalidad</span></code> en el tiempo <span class="math notranslate nohighlight">\(t\)</span>. Los coeficientes <span class="math notranslate nohighlight">\(\alpha, \beta\)</span> <code class="docutils literal notranslate"><span class="pre">representan:</span> <span class="pre">factor</span> <span class="pre">de</span> <span class="pre">suavización</span> <span class="pre">de</span> <span class="pre">los</span> <span class="pre">datos,</span> <span class="pre">factor</span> <span class="pre">de</span> <span class="pre">suavización</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">tendencia</span> <span class="pre">y</span> <span class="pre">factor</span> <span class="pre">de</span> <span class="pre">suavización</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">estacionalidad</span></code>, respectivamente con valores en el intervalo <span class="math notranslate nohighlight">\([0,1]\)</span>. Estas ecuaciones pueden utilizarse para pronosticar el siguiente período de tiempo de la siguiente manera</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
T_{t}&amp;=\beta(F_{t}-F_{t-1})+(1-\beta)T_{t-1}\\
S_{t}&amp;=\gamma(y_{t}-F_{t})+(1-\gamma)S_{t-C}
\end{align*}
\end{split}\]</div>
<ul class="simple">
<li><p>El término <span class="math notranslate nohighlight">\(F_{t}\)</span> <code class="docutils literal notranslate"><span class="pre">recoge</span> <span class="pre">el</span> <span class="pre">desfase</span> <span class="pre">de</span> <span class="pre">los</span> <span class="pre">componentes</span> <span class="pre">estacionales</span> <span class="pre">con</span> <span class="pre">respecto</span> <span class="pre">a</span> <span class="pre">la</span> <span class="pre">última</span> <span class="pre">tendencia</span> <span class="pre">estacional</span> <span class="pre">observada</span></code>. Usemos <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">triple</span> <span class="pre">para</span> <span class="pre">los</span> <span class="pre">datos</span> <span class="pre">de</span> <span class="pre">empleo</span> <span class="pre">de</span> <span class="pre">Wisconsin</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wisc_emp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;datasets/wisconsin-employment-time-series.csv&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Shape of the DataFrame:&#39;</span><span class="p">,</span> <span class="n">wisc_emp</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">wisc_emp</span><span class="o">.</span><span class="n">head</span><span class="p">();</span>
<span class="n">wisc_emp</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Shape of the DataFrame: (178, 2)
</pre></div>
</div>
<img alt="_images/a9b7c8b8ec760bb3d5f356b657b1961ae9076f6f64ad89ce7bc52ed37694bdf4.png" src="_images/a9b7c8b8ec760bb3d5f356b657b1961ae9076f6f64ad89ce7bc52ed37694bdf4.png" />
</div>
</div>
<ul class="simple">
<li><p>La figura anterior muestra el conjunto de datos de series temporales, <code class="docutils literal notranslate"><span class="pre">Employment</span></code> de <code class="docutils literal notranslate"><span class="pre">Wisconsin</span></code>. El conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">tendencia</span> <span class="pre">anual</span> <span class="pre">y</span> <span class="pre">estacionalidad</span> <span class="pre">mensual</span></code>. Dado que el patrón de estacionalidad de los datos es conocido, la información sobre la estacionalidad puede utilizarse para <code class="docutils literal notranslate"><span class="pre">derivar</span> <span class="pre">el</span> <span class="pre">valor</span> <span class="pre">inicial</span> <span class="pre">de</span> <span class="pre">la</span> <span class="pre">tendencia</span> <span class="pre">como</span> <span class="pre">el</span> <span class="pre">valor</span> <span class="pre">medio</span> <span class="pre">de</span> <span class="pre">las</span> <span class="pre">estaciones</span></code> utilizando la siguiente ecuación</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
T_{0}=\frac{1}{C}\left(\frac{y_{C+1}-y_{1}}{C}+\frac{y_{C+2}-y_{2}}{C}+\frac{y_{C+3}-y_{3}}{C}+\cdots\right)
\]</div>
<ul class="simple">
<li><p>La ecuación anterior puede implementarse en <code class="docutils literal notranslate"><span class="pre">Python</span></code> como sigue:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">initialize_T</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">seasonLength</span><span class="p">):</span>
    <span class="n">total</span><span class="o">=</span><span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">seasonLength</span><span class="p">):</span>
        <span class="n">total</span><span class="o">+=</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">seasonLength</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="n">seasonLength</span>
    <span class="k">return</span> <span class="n">total</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Por ejemplo, el valor de <code class="docutils literal notranslate"><span class="pre">tendencia</span> <span class="pre">inicial</span></code> generado por la función anterior es <span class="math notranslate nohighlight">\(1.69\)</span> utilizando el script <code class="docutils literal notranslate"><span class="pre">initialize_T()</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">initialize_T</span><span class="p">(</span><span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;Employment&#39;</span><span class="p">],</span> <span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.6916666666666653
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>La <code class="docutils literal notranslate"><span class="pre">estacionalidad</span> <span class="pre">inicial</span></code> es de suma importancia y se puede calcular con la siguiente función. Los valores iniciales de las estaciones se calculan como valor medio de la respuesta <span class="math notranslate nohighlight">\(x\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">initialize_seasonalilty</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">seasonLength</span><span class="p">):</span>
    <span class="n">seasons</span><span class="o">=</span><span class="p">{}</span>
    <span class="n">seasonsMean</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">num_season</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">seasonLength</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_season</span><span class="p">):</span>
        <span class="n">seasonsMean</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">seasonLength</span><span class="o">*</span><span class="n">i</span><span class="p">:</span><span class="n">seasonLength</span><span class="o">*</span><span class="n">i</span><span class="o">+</span><span class="n">seasonLength</span><span class="p">])</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">seasonLength</span><span class="p">))</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">seasonLength</span><span class="p">):</span>
        <span class="n">tot</span><span class="o">=</span><span class="mf">0.0</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_season</span><span class="p">):</span>
            <span class="n">tot</span><span class="o">+=</span><span class="n">x</span><span class="p">[</span><span class="n">seasonLength</span><span class="o">*</span><span class="n">j</span><span class="o">+</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">seasonsMean</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">seasons</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">tot</span><span class="o">/</span><span class="n">num_season</span>
    <span class="k">return</span> <span class="n">seasons</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">initialize_seasonalilty</span><span class="p">(</span><span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;Employment&#39;</span><span class="p">],</span> <span class="mi">12</span><span class="p">)</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: -11.325000000000015,
 1: -14.48214285714287,
 2: -12.667857142857159,
 3: -6.403571428571445,
 4: -1.603571428571444,
 5: 1.5535714285714164,
 6: 1.0821428571428413,
 7: 2.22499999999998,
 8: 3.539285714285705,
 9: 6.89642857142856,
 10: 11.774999999999986,
 11: 19.410714285714267}
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Una vez obtenidos los valores, estamos listos para establecer la predicción utilizando <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">triple</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">triple_exp_smoothing</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">seasonLength</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
    <span class="n">yhat</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">S</span> <span class="o">=</span> <span class="n">initialize_seasonalilty</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">seasonLength</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">h</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">F</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">T</span> <span class="o">=</span> <span class="n">initialize_T</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">seasonLength</span><span class="p">)</span>
            <span class="n">yhat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">yhat</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">F</span> <span class="o">+</span> <span class="n">m</span><span class="o">*</span><span class="n">T</span><span class="p">)</span> <span class="o">+</span> <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="o">%</span><span class="k">seasonLength</span>])
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obsval</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">F_last</span><span class="p">,</span> <span class="n">F</span><span class="o">=</span> <span class="n">F</span><span class="p">,</span> <span class="n">alpha</span><span class="o">*</span><span class="p">(</span><span class="n">obsval</span><span class="o">-</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="o">%</span><span class="k">seasonLength</span>]) + (1-alpha)*(F+T)
            <span class="n">T</span> <span class="o">=</span> <span class="n">beta</span> <span class="o">*</span> <span class="p">(</span><span class="n">F</span><span class="o">-</span><span class="n">F_last</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">beta</span><span class="p">)</span><span class="o">*</span><span class="n">T</span>
            <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="o">%</span><span class="k">seasonLength</span>] = gamma*(obsval-F) + (1-gamma)*S[i%seasonLength]
            <span class="n">yhat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">F</span><span class="o">+</span><span class="n">T</span><span class="o">+</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="o">%</span><span class="k">seasonLength</span>])
    <span class="k">return</span> <span class="n">yhat</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>La <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">triple</span></code> está controlada por <code class="docutils literal notranslate"><span class="pre">alpha,</span> <span class="pre">beta</span> <span class="pre">y</span> <span class="pre">gamma</span></code>. La presencia o ausencia de cualquier escenario tendrá un efecto drástico en el resultado. Hagamos una comparación empírica para diferentes escenarios extremos. Vamos a <code class="docutils literal notranslate"><span class="pre">ejecutar</span> <span class="pre">el</span> <span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">con</span> <span class="pre">parámetros</span> <span class="pre">intermedios</span></code>, como se muestra en la siguiente figura</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;TES&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">triple_exp_smoothing</span><span class="p">(</span><span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;Employment&#39;</span><span class="p">],</span> <span class="mi">12</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">()</span>

<span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;Employment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Employment&#39;</span><span class="p">)</span>
<span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;TES&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> 
                     <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;TES: $L=12,\,\alpha=0.4,\,\beta=0.6,\,\gamma=0.2,\,h=0$&#39;</span><span class="p">)</span>
<span class="n">leg</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/080d39064ce095450092715ff431630de8c71a0b0eea1268a2ba9519a0ef88e7.png" src="_images/080d39064ce095450092715ff431630de8c71a0b0eea1268a2ba9519a0ef88e7.png" />
</div>
</div>
<ul class="simple">
<li><p>Si comparamos este ajuste con las <code class="docutils literal notranslate"><span class="pre">suavizaciones</span> <span class="pre">de</span> <span class="pre">primer</span> <span class="pre">y</span> <span class="pre">segundo</span> <span class="pre">orden</span> <span class="pre">obtenemos</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;DES&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">double_exp_smoothing</span><span class="p">(</span><span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;Employment&#39;</span><span class="p">],</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">)</span>
<span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;SES&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">single_exp_smoothing</span><span class="p">(</span><span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;Employment&#39;</span><span class="p">],</span> <span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">()</span>

<span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;Employment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Employment&#39;</span><span class="p">)</span>
<span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;TES&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> 
                     <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;TES: $L=12,\,\alpha=0.4,\,\beta=0.6,\,\gamma=0.2,\,h=0$&#39;</span><span class="p">)</span>
<span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;DES&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;DES: $\alpha=0.4,\,\beta=0.6$&#39;</span><span class="p">)</span>
<span class="n">wisc_emp</span><span class="p">[</span><span class="s1">&#39;SES&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">45</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;SES: $\alpha=0.4$&#39;</span><span class="p">)</span>
<span class="n">leg</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/317bf52495e7e25d3fc3435baf34b4fddf993c3401c2fb0e851c5611d96c7292.png" src="_images/317bf52495e7e25d3fc3435baf34b4fddf993c3401c2fb0e851c5611d96c7292.png" />
</div>
</div>
<ul class="simple">
<li><p>Según los estudios numéricos, el nivel único que utiliza el suavizado o la estacionalidad es capaz de capturar tendencia en los datos; por tanto, todos los modelos funcionaron bien, ya que <code class="docutils literal notranslate"><span class="pre">el</span> <span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">simple</span> <span class="pre">y</span> <span class="pre">el</span> <span class="pre">doble</span> <span class="pre">fueron</span> <span class="pre">capaces</span> <span class="pre">de</span> <span class="pre">utilizar</span> <span class="pre">el</span> <span class="pre">factor</span> <span class="pre">de</span> <span class="pre">suavización</span> <span class="pre">para</span> <span class="pre">hacer</span> <span class="pre">las</span> <span class="pre">predicciones</span></code> y la <code class="docutils literal notranslate"><span class="pre">suavización</span> <span class="pre">exponencial</span> <span class="pre">triple</span> <span class="pre">es</span> <span class="pre">capaz</span> <span class="pre">de</span> <span class="pre">capturas</span> <span class="pre">las</span> <span class="pre">predicciones</span> <span class="pre">utilizando</span> <span class="pre">los</span> <span class="pre">factores</span> <span class="pre">de</span> <span class="pre">suavización</span> <span class="pre">o</span> <span class="pre">estacionalidad</span></code>.</p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">Resumen</p>
<ul class="simple">
<li><p>Este capítulo trata de los enfoques de suavización exponencial para datos de series temporales. Los enfoques pueden ampliarse fácilmente para la predicción mediante la inclusión de términos como el <code class="docutils literal notranslate"><span class="pre">factor</span> <span class="pre">de</span> <span class="pre">suavización,</span> <span class="pre">factor</span> <span class="pre">de</span> <span class="pre">tendencia</span> <span class="pre">y</span> <span class="pre">factor</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code>.</p></li>
<li><p>El suavizado exponencial de orden único realiza la suavización utilizando solo el factor <span class="math notranslate nohighlight">\(\lambda\)</span>, que se amplía con los factores <span class="math notranslate nohighlight">\(\alpha,\,\beta\)</span> de segundo orden al incluir tendencia. <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">suavización</span> <span class="pre">de</span> <span class="pre">tercer</span> <span class="pre">orden</span> <span class="pre">incorpora</span> <span class="pre">todos</span> <span class="pre">los</span> <span class="pre">factores,</span> <span class="pre">tendencia</span> <span class="pre">y</span> <span class="pre">estacionalidad</span> <span class="pre">en</span> <span class="pre">el</span> <span class="pre">modelo</span></code>.</p></li>
<li><p>En este capítulo se han tratado todos estos modelos en detalle con su implementación en <code class="docutils literal notranslate"><span class="pre">Python</span></code>. El enfoque de <code class="docutils literal notranslate"><span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">puede</span> <span class="pre">utilizarse</span> <span class="pre">para</span> <span class="pre">pronosticar</span> <span class="pre">series</span> <span class="pre">temporales</span> <span class="pre">estacionarias</span></code>. Sin embargo, esta suposición puede no ser cierta. <code class="docutils literal notranslate"><span class="pre">Se</span> <span class="pre">recomienda</span> <span class="pre">el</span> <span class="pre">suavizado</span> <span class="pre">exponencial</span> <span class="pre">de</span> <span class="pre">orden</span> <span class="pre">superior</span> <span class="pre">para</span> <span class="pre">estos</span> <span class="pre">casos</span></code>, pero su cálculo es difícil y costoso computacionalmente. Por lo tanto, para hacer frente a este planteamiento, <code class="docutils literal notranslate"><span class="pre">se</span> <span class="pre">utilizan</span> <span class="pre">otras</span> <span class="pre">técnicas</span> <span class="pre">de</span> <span class="pre">previsión</span> <span class="pre">como</span> <span class="pre">el</span> <span class="pre">modelo</span> <span class="pre">ARIMA,</span> <span class="pre">que</span> <span class="pre">se</span> <span class="pre">tratará</span> <span class="pre">en</span> <span class="pre">la</span> <span class="pre">siguiente</span> <span class="pre">sección</span></code>.</p></li>
</ul>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "ml_tf"
        },
        kernelOptions: {
            name: "ml_tf",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ml_tf'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="statistical_background.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Introducción a las Series de Tiempo</p>
      </div>
    </a>
    <a class="right-next"
       href="arima_model.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Modelos autorregresivos integrados de media móvil</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Métodos de Suavización Exponencial</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis">Análisis</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion-al-suavizado-de-series-temporales">Introducción al suavizado de series temporales</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-primer-orden">Suavización exponencial de primer orden</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#el-valor-de-lambda">El valor de <span class="math notranslate nohighlight">\(\lambda\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelado-de-datos-de-series-temporales">Modelado de datos de series temporales</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-alto-orden">Suavización exponencial de alto orden</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#forecasting">Forecasting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proceso-constante">Proceso constante</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#seleccion-de-lambda">Selección de <span class="math notranslate nohighlight">\(\lambda\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#intervalo-de-prediccion">Intervalo de predicción</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estimacion-de-sigma-e-2">Estimación de <span class="math notranslate nohighlight">\(\sigma_{e}^{2}\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptacion-actualizada-del-factor-de-descuento">Adaptación actualizada del factor de descuento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluacion-del-modelo">Evaluación del modelo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-para-datos-estacionales">Suavización exponencial para datos estacionales</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-estacional-aditivo">Modelo estacional aditivo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-estacional-multiplicativo">Modelo estacional multiplicativo</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacion">Implementación</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-segundo-orden">Suavización exponencial de segundo orden</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-orden-superior">Suavización exponencial de orden superior</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Lihki Rubio PhD in Mathematical Engineering
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright Lihki Rubio PhD.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>